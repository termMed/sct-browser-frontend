<!DOCTYPE html>
<html>
    <head>
        <title>HSPC SOLOR Browser</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="viewport" content="width=device-width">
		<meta name="description" content="IHTSDO SNOMED CT Browser">
		<meta name="author" content="IHTSDO">
		<link rel="icon" type="image/png"  href="favicon.png">

        <script src="external-libs/jquery-2.1.0.min.js" type="text/javascript"></script>
        <script src="external-libs/jquery-ui-1.10.4.custom.min.js" type="text/javascript"></script>
        <script src="external-libs/base64.js" type="text/javascript"></script>
        <script src="external-libs/jquery.svg.js" type="text/javascript"></script>
        <script src="external-libs/jquery.splitter-0.14.0.js" type="text/javascript"></script>
        <script src="external-libs/conduit.min.js" type="text/javascript"></script>
        <script src="external-libs/lodash.js" type="text/javascript"></script>
        <script src="external-libs/postal.min.js" type="text/javascript"></script>
        <script src="external-libs/bootstrap-tour.min.js"></script>
        <script src="external-libs/jquery.i18n.properties-min-1.0.9.js"></script>
        <script src="external-libs/handlebars-v1.3.0.js"></script>
        <script src="external-libs/bootstrap.min.js" type="text/javascript"></script>
        <script src="external-libs/jquery.ui.touch-punch.min.js"></script>
        <script src="external-libs/excellentexport.min.js"></script>
        <script src="external-libs/notify.js"></script>
        <script src="external-libs/popover-extra-placements.js" type="text/javascript"></script>

        <link rel="stylesheet" href="css/bootstrap-theme.min.css">
        <link rel="stylesheet" href="css/jquery.splitter.css">
        <link rel="stylesheet" href="css/jquery-ui-1.10.4.custom.min.css">
        <link rel="stylesheet" href="css/bootstrap.min.base.12.css">
        <link rel="stylesheet" href="css/bootstrap-tour.css">
        <link rel="stylesheet" href="css/popover-extra-placements.css">
        <link rel="stylesheet" href="css/animate.css">

        <link rel="stylesheet" href="snomed-interaction-components/css/snomed-interaction-components-1.33.0.min.css">

        <script src="snomed-interaction-components/js/snomed-interaction-components-1.33.0.min.js"></script>
        <!--<script src="snomed-interaction-components/js/templates.js"></script>-->
        <script src="external-libs/jquery.history.js"></script>
        <script src="external-libs/ZeroClipboard.js"></script>
        <style>
            .solor {
                background: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjIyNXB4IiBoZWlnaHQ9IjcycHgiIHZpZXdCb3g9IjAgMCAyMjUgNzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+DQogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA0Ni4yICg0NDQ5NikgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+DQogICAgPHRpdGxlPkdyb3VwIDM8L3RpdGxlPg0KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPg0KICAgIDxkZWZzPjwvZGVmcz4NCiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgaWQ9IlNPTE9SX2lkZWEwMmItMDkwNjE3IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTc1LjAwMDAwMCwgLTM1LjAwMDAwMCkiPg0KICAgICAgICAgICAgPGcgaWQ9Ikdyb3VwLTMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE3NS4wMDAwMDAsIDM1LjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0zMy40MzE4ODU1LDU5LjYxMjUyMyBDMzMuMzAzNDIzNCw2MS41MzcyOTI2IDMwLjU0NTkyOTgsNjIuMTAzNzY3MyAyOS4xNTU3Mzc1LDYwLjQ5MTA5NDUgQzI4LjAxMDE2OTksNTkuMTYyMTc3NCAyOC42ODY5ODc1LDU3LjIxNTk3OTMgMzAuODM4NzI3Nyw1Ny4xNjI0MDc4IEMzMi43MzE4MzU0LDU3LjI4NjE0MDYgMzMuNDk0NzQ5OSw1OC42Njk2NjU5IDMzLjQzMTg4NTUsNTkuNjEyNTIzIiBpZD0iRmlsbC0xIiBmaWxsPSIjMDA3NkZGIj48L3BhdGg+DQogICAgICAgICAgICAgICAgPHBhdGggZD0iTTU2LjE3NzM5ODQsNTguMTMxNjAxNCBDNTUuOTcyNDA1Nyw1OC41Njk4NTAyIDU1LjMyODA0NTMsNTkuNjI4ODM2NCA1My43NzUyMjU1LDU5Ljk5NjkyNCBDNTMuMDczNDY3MSw2MC4wOTg4ODI1IDUyLjM1MzYwMSw2MC4xOTYzNDc5IDUxLjYxNTYyNzMsNjAuMjg4OTc0NyBDNDcuNTMxNDg5Miw2MC44MDA0OTU0IDQzLjI1NjAyNDUsNjEuMTE1NzAyOCAzOC45ODYwMjYzLDYxLjI0ODc2NzMgQzM2LjQ2NDYxNiw2MS4xMDc0MDc4IDM2LjQxNDczNDQsNTguODg3NDc3IDM3LjQ2Mzk1NTQsNTcuOTM5MDg5OSBDMzguMDM5NjQzMyw1Ny40MTg5Mjg2IDM4LjYxMzYyMjksNTcuMzUwMTQ5OCAzOS4xMjAyOTY2LDU3LjI5MDAxMTUgQzQzLjY0MzExOTEsNTcuMTQ4OTk3NyA0OC4xNzE3NDk3LDU2LjgxNDc4MTEgNTIuNDk3Nzc5Miw1Ni4yNzI4NDU2IEM1My4yNzkxNDMxLDU2LjE3NTAzNDYgNTQuMDQxNzE2LDU2LjA3MjAzOTIgNTQuNzg0ODE0Niw1NS45NjM4NTk0IEM1Ni43OTM3NDMyLDU1Ljg2ODQ2NzcgNTYuNDU0NDgwMiw1Ny41Mzg4NTk0IDU2LjE3NzM5ODQsNTguMTMxNjAxNCIgaWQ9IkZpbGwtMyIgZmlsbD0iIzAwNzZGRiI+PC9wYXRoPg0KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02Mi42OTYyMzUsNTYuNjAyNSBDNjEuODQ2MTk4NSw1OC41NDgwMDY5IDU5LjYyODE3NzQsNTkuNzE4OTc0NyA1OS4xMDA2NjI4LDU4LjUwMDY1NjcgQzU4LjYxOTYxMzIsNTcuMzkwMTcyOCA1OS45NjgxMjM2LDU1LjAyMzM1MjUgNjEuNzI1OTM2MSw1NC41MjQ5NjU0IEM2My4xMjQ2Njk3LDU0LjI4ODIxNDMgNjMuMTM1NjAyNyw1NS41OTcwODUzIDYyLjY5NjIzNSw1Ni42MDI1IiBpZD0iRmlsbC01IiBmaWxsPSIjMDA3NkZGIj48L3BhdGg+DQogICAgICAgICAgICAgICAgPHBhdGggZD0iTTcyLjQzMjU2ODgsNTEuODU2OTcgQzcyLjI1MjUxNjksNTIuMjI3MTMxMyA3MS42MzEwNDczLDUzLjQ4MTM5NCA3MS4xOTkxOTYsNTQuMDc5MzIwMyBDNzAuMjQ0MjcxNiw1NS4yMzk5MTk0IDY4LjI4NDg4MjksNTYuMzU4MDA2OSA2NS40MzI0MDkzLDU3LjM1NzIwMDUgQzY0LjE3NTgwNCw1Ny42MDkxNTkgNjQuODgyNjg3Miw1NS42MjA3OTQ5IDY1LjY3MTIyNTksNTQuNDk2ODMxOCBDNjYuMzMyMzI3NCw1My41NTUwMTE1IDY2Ljg3MjQ4MzEsNTMuMjkzMzc1NiA2Ny4xMzE3OTg5LDUzLjE2NzkxNDcgQzcwLjE1MzA0OTgsNTIuMTA5NjE5OCA3Mi4yMjg2MDEsNTAuOTI1MTcyOCA3My4yMzk4OTg0LDQ5LjY5NjE0MDYgQzczLjI2MDM5NzcsNDkuNjc3NDc3IDczLjI4NzczLDQ5LjY1MjU5MjIgNzMuMzA4MjI5Myw0OS42MzM5Mjg2IEM3My4zMTA2MjA5LDQ5LjczNDE1OSA3My4zMTc0NTQsNTAuMDM4OTk3NyA3Mi40MzI1Njg4LDUxLjg1Njk3IiBpZD0iRmlsbC03IiBmaWxsPSIjMDA3NkZGIj48L3BhdGg+DQogICAgICAgICAgICAgICAgPHBhdGggZD0iTTQxLjU1ODAwMTUsNTIuMDMxOTI0IEM0MS40NDA0NzI0LDUyLjUyOTYxOTggNDAuOTY5MzMwOCw1My43MTIzMzg3IDM5LjEzOTc3MDksNTMuOTQyMTc3NCBDMzMuNjIyMzkyLDU0LjExMjIyMzUgMjguMTE0OTIxMiw1NC4wMDQzODk0IDIyLjk3MTk5NTcsNTMuNjQzNTU5OSBDMjAuMTUwOTU0NCw1My4xNjI0NTM5IDIwLjAwMjY3NjMsNTAuMTUzODEzNCAyMS4yOTg1NzE5LDQ5LjI4NDIyODEgQzIxLjcyOTA1NjYsNDguOTk1Mjg4IDIyLjE4Njg3MzYsNDguOTc5Mzg5NCAyMi41NTQ4MzU2LDQ4Ljk2Njk0NyBDMjcuODQzMzA1OCw0OS4zMzgxNDUyIDMzLjUwNjU3MTIsNDkuNDQ5MDg5OSAzOS4xNzk3NDQ0LDQ5LjI3Mzg1OTQgQzQxLjYxNDcxNjIsNDkuNDM0NTczNyA0MS43MTQ4MjEsNTEuMzY3NjM4MiA0MS41NTgwMDE1LDUyLjAzMTkyNCIgaWQ9IkZpbGwtOSIgZmlsbD0iIzVEQzIwMCI+PC9wYXRoPg0KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik03NS42ODUzMjQ4LDQyLjU1MzU0ODQgTDc1LjA4ODExMjcsNDQuOTI5MzU0OCBDNzQuOTkwNzQxMiw0NS4yNzE1MjA3IDc0LjgxMzQyMjUsNDUuNjExOTU4NSA3NC41NTg1NDgyLDQ1Ljk0OTYzMTMgQzc0LjUzNjM0MDcsNDUuOTY4NjQwNiA3NC41MDY2MTY3LDQ1Ljk5NDIxNjYgNzQuNDg0NDA5Miw0Ni4wMTM1NzE0IEM3NC4xODg1MzY0LDQ1LjgwMjc0MTkgNzUuMDQzMDE0Myw0Mi4wMDMzMTggNzUuNTk5NTY5NSw0MS4wNTU2MjIxIEM3NS45MzcxMjQyLDQwLjYwODczMjcgNzYuMTQyMTE2OSw0MC4xNTcwMDQ2IDc2LjIwOTc2NDUsMzkuNzAzNTQ4NCBMNzUuNjg1MzI0OCw0Mi41NTM1NDg0IiBpZD0iRmlsbC0xMSIgZmlsbD0iIzVEQzIwMCI+PC9wYXRoPg0KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik00MC42MTYyOTkyLDY1LjkwMjUgQzQwLjQ5MTI1MzYsNjYuMjM0Mjk3MiA0MC4wNDMwMDI5LDY3LjAyMzAwNjkgMzguNTkwOTcxMiw2Ny4xODEzMDE4IEMzNC4yNTQzNTA0LDY3LjMxNTQwMzIgMjkuOTI1MjQ2LDY3LjIzMDM4MDIgMjUuODgyNzg5Nyw2Ni45NDY2MjQ0IEMyMy42OTMxMjU5LDY2LjYxNTg2NDEgMjIuODcwMDgwMiw2NC42MTU3NDg4IDIzLjg2NjM0NDgsNjMuOTcwNDcyNCBDMjQuMTcyODA4OSw2My43NzIwODUzIDI0LjU2ODEwMzEsNjMuNzY1MTcyOCAyNC44NTY0NTk1LDYzLjc2MDMzNDEgQzI5LjI5MzUyNjgsNjQuMDcxNzM5NiAzNC4wNDUyNTc4LDY0LjE2NDcxMiAzOC44MDU1MzAyLDY0LjAxNzgyMjYgQzQwLjgyNjA3NTEsNjQuMTE5MDg5OSA0MC43ODg4MzQ3LDY1LjQ0NTU4NzYgNDAuNjE2Mjk5Miw2NS45MDI1IiBpZD0iRmlsbC0xMyIgZmlsbD0iIzAwNzZGRiI+PC9wYXRoPg0KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik00Ny44MTUwNjI0LDY1LjIzMDAyMyBDNDcuMDMzMzU2OSw2Ni45NjE1ODk5IDQ0LjEyMzgyNyw2Ny41NDcwNzM3IDQzLjY2NDMwMTcsNjYuMDY1NzM3MyBDNDMuMzkxNjYxNCw2NS4xODcxNjU5IDQ0LjI3NTUyMTYsNjMuNjk1ODA2NSA0Ni4yMjgwNzcyLDYzLjQ0OTcyMzUgQzQ3LjkxMTA2NzMsNjMuMzc0Mzc3OSA0OC4xNjkzNTgxLDY0LjQ0NTQ2MDggNDcuODE1MDYyNCw2NS4yMzAwMjMiIGlkPSJGaWxsLTE1IiBmaWxsPSIjMDA3NkZGIj48L3BhdGg+DQogICAgICAgICAgICAgICAgPHBhdGggZD0iTTYzLjQzMDMxMzksNjIuMTA3MDUwNyBDNjMuMTg3NzM5Miw2Mi40MDM1OTQ1IDYyLjMyMTk4NjYsNjMuNDA0ODYxOCA2MS4zNjM5ODczLDYzLjgzODI3MTkgQzU4LjkwNzgzMyw2NC42OTY3OTcyIDU1LjY4Mzk4MSw2NS40NTIzMjcyIDUxLjc4OTQ2MTEsNjYuMDM4ODQ3OSBDNTAuMTIyNTI4Nyw2Ni4xNDIxODg5IDUwLjU1MzAxMzQsNjQuNzc1MjUzNSA1MS4xNDAzMTc1LDY0LjA1NDk3NyBDNTEuOTM1MzQ3Niw2My4wODA2NjgyIDUyLjkyMTAyMDksNjIuODUwMTM4MiA1My4yOTIwNTc3LDYyLjc2MzM4NzEgQzU3LjU2NzE4MDcsNjIuMTIwMTg0MyA2MS4xMDUzNTQ5LDYxLjI5MDY5MTIgNjMuODAxNjkyMyw2MC4zNDgxNzk3IEM2NC42MDU2MDU0LDYwLjE3NTAyMyA2NC4xNjc2MDQzLDYxLjAyMzE3OTcgNjMuOTQxNzcwNyw2MS4zOTU3NjA0IEM2My44MDU0NTA1LDYxLjYyMDc2MDQgNjMuNTk2Njk5Niw2MS45MDM4MjQ5IDYzLjQzMDMxMzksNjIuMTA3MDUwNyIgaWQ9IkZpbGwtMTciIGZpbGw9IiMwMDc2RkYiPjwvcGF0aD4NCiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNjYuNTQ0NDk0OCw2MC40MzE5OTMxIEM2NS40OTUyNzM4LDYxLjc0OTE1OSA2NC4yMTA5OTQ0LDYyLjk0MTU1NTMgNjQuMjE1Nzc3Niw2Mi41OTQyMDUxIEM2NC4yMjEyNDQxLDYyLjE4Nzc1MzUgNjYuMzc1MDM0Miw1OS4zMzgwOTkxIDY3LjM4MjIzMTcsNTguNjg3NjM4MiBDNjcuNDc4MjM2Niw1OC42MzkyNTEyIDY3LjY3ODQ0NjIsNTguNTM5MDIwNyA2Ny41NzY2MzMxLDU4Ljg0NTI0MTkgQzY3LjQ5NjY4Niw1OS4wODY0ODYyIDY3LjE4MzM4ODgsNTkuNjI5ODA0MSA2Ni41NDQ0OTQ4LDYwLjQzMTk5MzEiIGlkPSJGaWxsLTE5IiBmaWxsPSIjMDA3NkZGIj48L3BhdGg+DQogICAgICAgICAgICAgICAgPHBhdGggZD0iTTUwLjM3MTg2ODIsNjkuNTkyNzQxOSBDNTAuMTAyNjQ0NCw2OS44NDY3NzQyIDQ5LjM1NDA3OTQsNzAuNDYzNzA5NyA0OC4yMjAxMjgsNzAuNzAzMjI1OCBDNDcuNzQxODExNyw3MC43NzI2OTU5IDQ3LjI1MTE5NTgsNzAuODM5MDU1MyA0Ni43NDgyODAzLDcwLjkwMjMwNDEgQzQzLjk2NDQ3OTMsNzEuMjUxMDM2OSA0MS4wNTAxNjYzLDcxLjQ2NjAxMzggMzguMTM5NjExNCw3MS41NTY1NjY4IEMzNi41NjE4NTA5LDcxLjQ5NzQ2NTQgMzYuNDM5NTM4NSw3MC40Mjc0MTk0IDM2Ljk3Mjg2MTIsNjkuODcwNjIyMSBDMzcuNDMwMzM2Niw2OS4zOTMzMTggMzguMTMyMDk1LDY5LjMyMTQyODYgMzguNDMxNzI2LDY5LjI5MDY2ODIgQzQxLjc5MDg3MzMsNjkuMTg2MjkwMyA0NS4xNTQ4MDM3LDY4LjkzODEzMzYgNDguMzY3NzIyOCw2OC41MzU0ODM5IEM0OC45NDgxOTM4LDY4LjQ2MjkwMzIgNDkuNTE0NjU3LDY4LjM4NjE3NTEgNTAuMDY2NzcwNyw2OC4zMDU5OTA4IEM1MS41MTc3Nzc0LDY4LjIxMDI1MzUgNTAuNzA1MzIzLDY5LjIyOTE0NzUgNTAuNjA3OTUxNCw2OS4zNDU2MjIxIEM1MC41NDIzNTM4LDY5LjQyNDQyNCA1MC40NDYzNDg5LDY5LjUyMjIzNSA1MC4zNzE4NjgyLDY5LjU5Mjc0MTkiIGlkPSJGaWxsLTIxIiBmaWxsPSIjMDA3NkZGIj48L3BhdGg+DQogICAgICAgICAgICAgICAgPHBhdGggZD0iTTU1LjA1NDc1NTgsNjguNTMwODUyNSBDNTMuOTIyODU0NCw2OS41Mjc5NzI0IDUyLjA0MzA3MTIsNzAuNDIxNDA1NSA1Mi4wNzI0NTM1LDY5LjgxNTUzIEM1Mi4xMDAxMjc2LDY5LjI0NTk0NDcgNTMuODc2Mzg5NCw2Ny42MzExOTgyIDU1LjI4MzY2NDQsNjcuMjU0NDcgQzU2LjE0MDg3NTUsNjcuMDk3MjEyIDU1LjgwMjI5NTksNjcuNjc4ODk0IDU1LjY3ODI3NTMsNjcuODYxMDM2OSBDNTUuNTQ5MTI5OSw2OC4wNTAwOTIyIDU1LjMxNjEyMTUsNjguMzAwNjY4MiA1NS4wNTQ3NTU4LDY4LjUzMDg1MjUiIGlkPSJGaWxsLTIzIiBmaWxsPSIjMDA3NkZGIj48L3BhdGg+DQogICAgICAgICAgICAgICAgPHBhdGggZD0iTTYyLjIxODczODYsNjUuMTAwNDQ5MyBDNjEuMzMwNzc4NSw2NS44MTMxMjIxIDYwLjE1MDcwMzgsNjYuNzcwNDk1NCA1OS4yMzEzMTE1LDY3LjQ0MTM0NzkgQzU4LjQ5ODEyMDksNjcuOTU0OTQyNCA1Ny40Njg3MTU4LDY4LjQ0NzQ1MzkgNTYuMTY1NjQ1NSw2OC45MDQwMjA3IEM1Ni4xMDM4MDYsNjguOTE5MjI4MSA1Ni4wMTY2ODQxLDY4LjkzNjg1NDggNTUuOTU0MTYxNCw2OC45MjM3MjEyIEM1NS45MTMxNjI4LDY4LjU2OTQ1ODUgNTguMDYwMTE5OCw2Ni43MzYyNzg4IDU5LjIzNzgwMjksNjYuMjI4OTA1NSBDNjEuMTU2ODc2NCw2NS41NTcwMTYxIDYyLjU2MjEwMTQsNjQuODE2MDAyMyA2My4zOTg4MTMzLDY0LjA0NDkxOTQgTDYyLjIxODczODYsNjUuMTAwNDQ5MyIgaWQ9IkZpbGwtMjUiIGZpbGw9IiMwMDc2RkYiPjwvcGF0aD4NCiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMzMuNTkzNTU2NCw4Ljc2NDcwMDQ2IEMzMy4zNDIwOTg3LDEwLjY0NzY0OTggMzEuNDU1ODI0MSwxMS4yOTI1ODA2IDMwLjU4MDg0NjgsMTAuMTk0MTkzNSBDMjkuNjQ3MTA1LDkuMDIxNDk3NyAzMC40Njg0NDI1LDYuNDgzOTQwMDkgMzIuMTY2ODA3MSw2LjQwNzU1NzYgQzMzLjM1NDM5ODIsNi41MTA1NTMgMzMuNzE2MjEwNCw3Ljg0Nzc2NDk4IDMzLjU5MzU1NjQsOC43NjQ3MDA0NiIgaWQ9IkZpbGwtMjciIGZpbGw9IiM5M0Q4RkYiPjwvcGF0aD4NCiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNDkuODk2Njk1MSw3Ljc1NTc2MDM3IEM1MC4wNjQ0NDc0LDguMTkwMjA3MzcgNTAuMzM2MDYyOCw5LjIzNTM2ODY2IDQ5LjIzNTI1MTksOS41NjE5ODE1NyBDNDguNjkwMzEzLDkuNjQxMTI5MDMgNDguMTMxMDI0NSw5LjcxNjgyMDI4IDQ3LjU1NzcyODIsOS43ODg3MDk2OCBDNDQuMzg1NDY2LDEwLjE4NjE3NTEgNDEuMDY0MjQyNCwxMC40MzEyMjEyIDM3Ljc0NzQ2MDQsMTAuNTM0NTYyMiBDMzUuNjk1NDgzMywxMC4zNDU1MDY5IDM1LjYyNzgzNTcsNy43NzIzNTAyMyAzNi41NzU1ODU0LDYuODg1ODI5NDkgQzM2Ljg1OTUwMDMsNi42MjA3MzczMyAzNy4xNDkyMjMzLDYuNTczNzMyNzIgMzcuMzgyMjMxNyw2LjUzNjA1OTkxIEM0MC4yNDU2MzgyLDYuNDQ2ODg5NCA0My4xMTI4MDI5LDYuMjM1MzY4NjYgNDUuODUxNTA1Niw1Ljg5MjUxMTUyIEM0Ni4zNDYyMjEzLDUuODMwMjk5NTQgNDYuODI4OTc5MSw1Ljc2NDk3Njk2IDQ3LjI5OTc3OTEsNS42OTY1NDM3OCBDNDguNzkwMDc2MSw1LjY4Mzc1NTc2IDQ5LjcyNzIzNDQsNy4zMTc1MTE1MiA0OS44OTY2OTUxLDcuNzU1NzYwMzciIGlkPSJGaWxsLTI5IiBmaWxsPSIjOTNEOEZGIj48L3BhdGg+DQogICAgICAgICAgICAgICAgPHBhdGggZD0iTTU0LjM5NTk3NzYsNi42MjUwNTc2IEM1NS4yNzE2MzgxLDcuOTE0NTczNzMgNTUuMDI5MDYzNCw5LjAwOTg1MDIzIDUzLjkxNTI2OTcsOC43OTUyMTg4OSBDNTIuMTA4NjAwNiw4LjQ0NzE3NzQyIDUwLjQ1Mzk2NzcsNS40OTE0MTcwNSA1MS4zMzg4NTMsNC44NDU0NDkzMSBDNTEuMzk0ODg0Myw0LjgwNDY2NTkgNTEuNDg0MDU2MSw0Ljc3MzkwNTUzIDUxLjU0OTMxMjEsNC43NTI0NzY5NiBDNTIuNTMxMjI3Miw0LjYxNjMwMTg0IDUzLjgyODQ4OTQsNS43ODkzNDMzMiA1NC4zOTU5Nzc2LDYuNjI1MDU3NiIgaWQ9IkZpbGwtMzEiIGZpbGw9IiM5M0Q4RkYiPjwvcGF0aD4NCiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNjEuNTU5MzQ1NCwzLjI1Mzg1OTQ1IEM2MS44NzA1OTI3LDMuNTM4NjUyMDcgNjIuODc3NzkwMiw0LjUwMzk3NDY1IDYyLjc2OTgyNzQsNC45NjUzODAxOCBDNjIuMDI4MDk1NCw1Ljg2Njc2MjY3IDYwLjUwNjAyNDUsNi43MzUzMTEwNiA1OC4yOTAzOTUsNy41MTEyMzI3MiBDNTYuNjc1MDUyNCw3LjcyMTM3MDk3IDU0LjU3NzYzNTMsNC41MDk4NTAyMyA1NC45ODA3ODc2LDQuMDE5NDEyNDQgQzU1LjAxMjIxOTgsMy45ODEwNDgzOSA1NS4wNzYxMDkyLDMuOTU0NDM1NDggNTUuMTE2NzY2MSwzLjkyNjQ0MDA5IEM1Ny4wMjk2ODk4LDMuMjU2NjI0NDIgNTguMzQzNjkzMSwyLjUwNjYyNDQyIDU4Ljk4Mzk1MzYsMS43Mjg2MjkwMyBDNTkuNDMwMTU0NCwxLjU0OTI1MTE1IDYwLjg4MTUwMjgsMi42MzM0Njc3NCA2MS41NTkzNDU0LDMuMjUzODU5NDUiIGlkPSJGaWxsLTMzIiBmaWxsPSIjOTNEOEZGIj48L3BhdGg+DQogICAgICAgICAgICAgICAgPHBhdGggZD0iTTYxLjUxNDk2NDUsMS43MjcwNzM3MyBDNjIuNDcxNTk3MSwyLjQ5MzY2MzU5IDYzLjQ2NzE3ODQsMy40NzQxOTM1NSA2My40MjUxNTQ5LDMuNzEyMzI3MTkgQzYzLjE1NjYxNDQsMy44NzMwNDE0NyA1OS40MTg1NzIzLDAuODg3NTU3NjA0IDU5LjI1ODY3OCwwLjM4NDY3NzQxOSBDNTkuMjYwNzI4LDAuMzc1MzQ1NjIyIDU5LjI2MzgwMjgsMC4zNjMyNDg4NDggNTkuMjY1ODUyOCwwLjM1NDI2MjY3MyBDNTkuNDQzMTcxNSwwLjI2MzcwOTY3NyA2MC40NzMyNTk4LDAuODkyMzk2MzEzIDYxLjUxNDk2NDUsMS43MjcwNzM3MyIgaWQ9IkZpbGwtMzUiIGZpbGw9IiM5M0Q4RkYiPjwvcGF0aD4NCiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMjQuOTI1MzAyOSwyNC44NTY3MjgxIEMyNC43Njk4NTAxLDI1LjM4ODY0MDYgMjQuMjMwMzc3NiwyNi42MzM1NzE0IDIyLjU4MjkxOTYsMjYuNzA1MTE1MiBDMTcuNjU3Mjg2NCwyNi4zMzkxMDE0IDEzLjA5NTg1NjksMjUuNzI5NzY5NiA5LjI0MDI4NTYyLDI0LjkwMjAwNDYgQzcuMTYzMzY3OCwyNC4xMTIyNTgxIDguMzg4ODgyNTYsMjAuNjcyNjI2NyAxMC4wMjY3NzQzLDIwLjEzMjA3MzcgQzEwLjIyMDE1MDgsMjAuMDY4MTMzNiAxMC41MDAzMDc1LDIwLjA2ODgyNDkgMTAuNzAzNTkxOSwyMC4wODE2MTI5IEMxNC4zMzcwODc3LDIwLjg2MTY4MiAxOC42MzU3ODQ5LDIxLjQzNTc2MDQgMjMuMjc3NTAzMiwyMS43ODA2OTEyIEMyNS41ODI5ODc5LDIyLjIzMjQxOTQgMjQuOTMyODE5MywyNC44MzA4MDY1IDI0LjkyNTMwMjksMjQuODU2NzI4MSIgaWQ9IkZpbGwtMzgiIGZpbGw9IiM5M0Q4RkYiPjwvcGF0aD4NCiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMzMuMDAzMjQ1NywyNC44ODUyMDc0IEMzMi43NTE3ODgsMjcuMTUzNTI1MyAzMC4xNTg5NzE4LDI4LjExMjYyNjcgMjguNzk5NTI4NSwyNi40NDAxNjEzIEMyNy41Mjk1OTg3LDI0Ljg3NzYwMzcgMjguNDQ4OTkxLDIyLjAxMzA4NzYgMzAuNzUyNDI1NywyMS45MzExNzUxIEMzMi41MTU3MDQ3LDIyLjA2NzM1MDIgMzMuMTI5OTk5NSwyMy43NDA1MDY5IDMzLjAwMzI0NTcsMjQuODg1MjA3NCIgaWQ9IkZpbGwtNDAiIGZpbGw9IiM5M0Q4RkYiPjwvcGF0aD4NCiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNTUuODcwOTM0MywyMy40NDU4NjQxIEM1NS45MTUzNDk0LDIzLjk4OTUyNzYgNTUuODUyODI2NiwyNS4yOTkwODk5IDU0LjMxMTYyMzEsMjUuNzE5MDIwNyBDNTMuNTg1NjA3MiwyNS44MjQ0MzU1IDUyLjg0MTQ4MzcsMjUuOTI1MDExNSA1Mi4wNzkyNTI1LDI2LjAyMDQwMzIgQzQ3Ljc1OTAzMTEsMjYuNTYxNjQ3NSA0My4yMzYyMDg1LDI2Ljg5NDQ4MTYgMzguNzE5ODc3NSwyNy4wMzM3NjczIEMzNS45MDQ2NDQyLDI2LjgxMDg0MSAzNS45MjA3MDIsMjMuNjAzODEzNCAzNy4yNzM2NTM5LDIyLjUzODI2MDQgQzM3LjcwMTQwNTMsMjIuMjAxMjc4OCAzOC4xMzUzMDY2LDIyLjEzOTc1ODEgMzguNDg0MTM1OCwyMi4wOTAzMzQxIEM0Mi43NDAxMjYyLDIxLjk1ODk5NzcgNDcuMDAyNjA4LDIxLjY0NTUxODQgNTEuMDczNDIxNiwyMS4xMzUzODAyIEM1MS43OTE5MjEsMjEuMDQ1NTE4NCA1Mi40OTI5OTYxLDIwLjk1MDgxOCA1My4xNzczMzAxLDIwLjg1MTYyNDQgQzU1LjU0NjcwNDIsMjAuNzkyMTc3NCA1NS44Njg4ODQ0LDIzLjQxOTI1MTIgNTUuODcwOTM0MywyMy40NDU4NjQxIiBpZD0iRmlsbC00MiIgZmlsbD0iIzkzRDhGRiI+PC9wYXRoPg0KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02Mi4yODg3NDM2LDIxLjg4MzAzIEM2Mi44MTkzMzMxLDIzLjg3ODMwNjUgNjEuNTU1NTUzLDI1LjMxNjc4NTcgNjAuMDM1MTkwNCwyNC40NDgyMzczIEM1OC4yOTQ0NjA2LDIzLjQ1NDIyODEgNTcuNjcwMjU3OCwyMC4wNjEyNTU4IDU5LjU2ODQ5MDMsMTkuNDc5OTE5NCBDNjAuOTQ4NDMyOSwxOS4yNzA0NzI0IDYxLjk4OTc5NTksMjAuNzU5MDY2OCA2Mi4yODg3NDM2LDIxLjg4MzAzIiBpZD0iRmlsbC00NCIgZmlsbD0iIzkzRDhGRiI+PC9wYXRoPg0KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik03Mi4yNTU0MjA5LDE3LjE0MTk5MzEgQzcyLjQ3NTc4ODEsMTcuNjUyNDc3IDcyLjk2MTI3OTIsMTguOTAyNTkyMiA3Mi43MDgxMTMyLDE5LjQ4OTgwNDEgQzcxLjY5Mzc0MDksMjAuNzEyMjY5NiA2OS42MjEyNjQ2LDIxLjg5MDQ5NTQgNjYuNjA3NTMwMSwyMi45NDIyMjM1IEM2NC42NzQ0NDg4LDIzLjIzNzczMDQgNjMuNjg2MDQyMywxOS42Mzc3MzA0IDY0LjM1MTI0MzYsMTguNTgzMjM3MyBDNjQuNDM4MDIzOSwxOC40NDU2Nzk3IDY0LjYyNDIyNTYsMTguMzE1NzI1OCA2NC43NjQ2NDU2LDE4LjIzNDg1MDIgQzY3LjYwNDQ3OCwxNy4yNDM2MDYgNjkuNTU3NzE2OCwxNi4xMzMxMjIxIDcwLjUxMzMyNDUsMTQuOTgxMTYzNiBDNzEuMDU4NjA1MSwxNC42ODg0MjE3IDcyLjAyNjE3MDcsMTYuNjExMTE3NSA3Mi4yNTU0MjA5LDE3LjE0MTk5MzEiIGlkPSJGaWxsLTQ2IiBmaWxsPSIjOTNEOEZGIj48L3BhdGg+DQogICAgICAgICAgICAgICAgPHBhdGggZD0iTTcyLjM1MTQ5NDIsMTQuOTk0MjI4MSBDNzIuOTU4OTU1OSwxNi4yMTE1MDkyIDczLjU3MjU2NzQsMTcuNjcwMzgwMiA3My40ODE2ODczLDE3LjgxNzYxNTIgQzczLjIwNTI4ODgsMTcuNzY4NTM2OSA3MS4yMDUyNDMzLDEzLjc1Mzc5MDMgNzEuMDc2NzgxMiwxMi45OTA2NTY3IEM3MS4wNzcxMjI4LDEyLjk3NzE3NzQgNzEuMDc3NDY0NSwxMi45NTkyMDUxIDcxLjA3NzQ2NDUsMTIuOTQ1NzI1OCBDNzEuMDg5MDgwNywxMi45NDA1NDE1IDcxLjEwNDExMzUsMTIuOTMzNjI5IDcxLjExNTM4ODEsMTIuOTI4NDQ0NyBDNzEuMzM3NDYzNiwxMy4wODkxNTkgNzEuODk2MDY4NywxNC4wODE3ODU3IDcyLjM1MTQ5NDIsMTQuOTk0MjI4MSIgaWQ9IkZpbGwtNDgiIGZpbGw9IiM5M0Q4RkYiPjwvcGF0aD4NCiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNDcuMjc1MjQ4MywxNS43NDIwMTYxIEM0Ny42MTAwNjk3LDE3LjcyMzEyMjEgNDUuNzMwNjI4MiwxOC45MDAzMTExIDQ0LjEzMjcxLDE3LjcwOTk4ODUgQzQyLjQ3ODc2MDUsMTYuNDc3NSA0Mi42NDEwNDY0LDEzLjY5MDA1NzYgNDQuMzg4MjY3NiwxMy4zMjM2OTgyIEM0NC40NDgwNTcxLDEzLjMxMTI1NTggNDQuNTI5MzcwOSwxMy4zMDI5NjA4IDQ0LjU4OTUwMjEsMTMuMjk0MzIwMyBDNDYuMTQ5ODM4MywxMy4yNTI4NDU2IDQ3LjA5OTI5NjIsMTQuNzAwNjU2NyA0Ny4yNzUyNDgzLDE1Ljc0MjAxNjEiIGlkPSJGaWxsLTUwIiBmaWxsPSIjOTNEOEZGIj48L3BhdGg+DQogICAgICAgICAgICAgICAgPHBhdGggZD0iTTYzLjE0MTY4NDEsMTIuNjQ4MjQ4OCBDNjMuMzgwNTAwNiwxMy4xMjQ1MTYxIDYzLjg1MTMwMDYsMTQuMjg0NDI0IDYzLjA2MjA3ODYsMTQuNzYyNzY1IEM2MC4zODgyOTA0LDE1LjY5NzMyNzIgNTYuODc5NDk4NSwxNi41MTk5MDc4IDUyLjY0MDI0OTIsMTcuMTU4MjcxOSBDNTAuMDU5MzkwOSwxNy4yMjAxMzgyIDQ5LjM3ODgxNTEsMTMuODY5Njc3NCA1MC40Mjk0MDI4LDEyLjk4OTM3NzkgQzUwLjU4MDc1NTcsMTIuODYyNTM0NiA1MC44MzkwNDY2LDEyLjc3NzE2NTkgNTEuMDI3NjM5OSwxMi43MjIyMTIgQzU0Ljg4MDgxOTUsMTIuMTQxOTEyNCA1OC4wNzAxNjQ0LDExLjM5NDMzMTggNjAuNTAwMzUzLDEwLjU0NTEzODIgQzYxLjczMDY1MSwxMC4zNzE2MzU5IDYyLjg5NjcxNzgsMTIuMTU5ODg0OCA2My4xNDE2ODQxLDEyLjY0ODI0ODgiIGlkPSJGaWxsLTUyIiBmaWxsPSIjOTNEOEZGIj48L3BhdGg+DQogICAgICAgICAgICAgICAgPHBhdGggZD0iTTY2LjA5MjY5MDksMTAuOTQ4NDc5MyBDNjcuMDMwODc0MiwxMi4zNDIzNzMzIDY3LjE2NjUxMSwxMy42MjQ2MzEzIDY2LjM2MTU3MywxMy40ODk0OTMxIEM2NS4xOTk5NDc2LDEzLjI5NDIxNjYgNjIuNjYyODIxMiw5Ljc2ODE3OTcyIDYzLjU3NjQwNTMsOS4wMzU4MDY0NSBDNjQuMTc0MzAwNyw4Ljc5NjI5MDMyIDY1LjM0ODIyNTcsOS44NDIxNDI4NiA2Ni4wOTI2OTA5LDEwLjk0ODQ3OTMiIGlkPSJGaWxsLTU0IiBmaWxsPSIjOTNEOEZGIj48L3BhdGg+DQogICAgICAgICAgICAgICAgPHBhdGggZD0iTTY3Ljk2MTQ3MjgsNy45NTM5NDAwOSBMNjguNjIyNTc0Myw4LjgzMDc4MzQxIEM2OS4yOTE1MzM4LDkuNzM5NDIzOTYgNjkuMjU2Njg1LDEwLjY2NDMwODggNjguNTc3NDc1OSwxMS41NjM5NjMxIEM2Ny43NTg1MywxMS45OTI1MzQ2IDY1LjI5MDc1OTQsOC4wODkwNzgzNCA2NS41MTM1MTgxLDcuNjM3MzUwMjMgQzY2LjIxNjMwMTUsNi43MDY1ODk4NiA2Ni4xNTk5Mjg1LDUuNzQ2MTA1OTkgNjUuMjY1NDc2OSw0LjgxMTU0Mzc4IEM2Ni4wODYxMzExLDUuNzQzNjg2NjQgNjcuMjAwNjA4MSw2Ljk3MTMzNjQxIDY3Ljk2MTQ3MjgsNy45NTM5NDAwOSIgaWQ9IkZpbGwtNTYiIGZpbGw9IiM5M0Q4RkYiPjwvcGF0aD4NCiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMy4wODE4OTQ1OSwzOS44MDU0NzI0IEMyLjk5MTAxNDQ5LDQxLjY3NDU5NjggMS45NDA3Njg0OSw0Mi40NTUwMTE1IDAuOTYxNTg2NjQ0LDQxLjM4MTUwOTIgQy0wLjQ0Mzk4MDA0NywzOS44Mzk2ODg5IC0wLjI2NTYzNjM4OCwzNi4xNTA1MTg0IDEuMjE2MTE5MjYsMzYuMTE4MDMgQzEuMzExMDk5MjIsMzYuMTE1OTU2MiAxLjQzNjQ4NjQyLDM2LjE0NjAyNTMgMS41Mjg3MzMxNSwzNi4xNjk1Mjc2IEMyLjc2Mjc4OTI3LDM2LjcwODY5ODIgMy4xMzY1NTkzMSwzOC42ODU2NTY3IDMuMDgxODk0NTksMzkuODA1NDcyNCIgaWQ9IkZpbGwtNTgiIGZpbGw9IiM1REMyMDAiPjwvcGF0aD4NCiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMjQuMDE4NjIwMiw0My4xNDg0MzMyIEMyMy45MjIyNzM2LDQzLjcwMjExOTggMjMuNTA4ODcxNiw0NC45OTY4MjAzIDIxLjc1OTYwMDUsNDUuMDYzMTc5NyBDMTYuNDQ0NDgxMSw0NC42Njc3ODggMTEuNTIyMjY0NSw0NC4wMTA3NjA0IDcuMzYxNTk1NzUsNDMuMTE3MzI3MiBDNC45NTQ2Mzk2Nyw0Mi4yNTU2OTEyIDUuMTAxNTUxMTEsMzguNTI3MTE5OCA2LjYyMDU0NzEsMzcuOTQ0NzQ2NSBDNi44MTkwNDgzOCwzNy44NjgzNjQxIDcuMTE0OTIxMTksMzcuODc4MDQxNSA3LjMyNzA4ODY1LDM3Ljg5MzI0ODggQzExLjQ4Mzk5OTIsMzguNzg1NjQ1MiAxNi40MDIxMTYsMzkuNDQyMzI3MiAyMS43MTI3OTM4LDM5LjgzNzAyNzYgQzI0LjM4NDg3MzgsNDAuMzM1NDE0NyAyNC4wMjM0MDMzLDQzLjEyMDQzNzggMjQuMDE4NjIwMiw0My4xNDg0MzMyIiBpZD0iRmlsbC02MCIgZmlsbD0iIzVEQzIwMCI+PC9wYXRoPg0KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik00MS45OTY5OTM0LDMzLjk0Mzc5MDMgQzQxLjkxMzk3MTQsMzQuNTA4NTM2OSA0MS41MTkzNjA0LDM1Ljg1MTI3ODggMzkuNjU3MDAxNiwzNi4xMTc0MDc4IEMzMy43ODUzMjcxLDM2LjMyMDI4OCAyNy45MDk1NTI3LDM2LjIxNTU2NDUgMjIuNDM2MjQ3MywzNS44MzE1NzgzIEMxOS42MjQ0MzA2LDM1LjMwNjkyNCAxOS45OTU0Njc0LDMxLjk3ODIzNzMgMjEuNDc2ODgxNCwzMS4wMTIyMjM1IEMyMS45NTA3NTYyLDMwLjcwMzIzNzMgMjIuNDAxMDU2OSwzMC42ODM4ODI1IDIyLjc2Mjg2OSwzMC42NjgzMjk1IEMyOC4wNzc2NDY3LDMxLjA0MTI1NTggMzMuNzgyOTM1NSwzMS4xNDI4Njg3IDM5LjQ4NDEyNDUsMzAuOTQ1ODY0MSBDNDIuMjgxOTMzMywzMS4xNDUyODggNDIuMDAxMDkzMywzMy45MTU3OTQ5IDQxLjk5Njk5MzQsMzMuOTQzNzkwMyIgaWQ9IkZpbGwtNjIiIGZpbGw9IiM1REMyMDAiPjwvcGF0aD4NCiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNzUuOTY2OTg0OCwyNS44NDMwOTkxIEM3Ni4wOTY0NzE4LDI2LjU0NDcxMiA3NS44OTE4MjA4LDI3LjI0NjY3MDUgNzUuMzcwNzk3NiwyNy45MzY1MzIzIEM3NS4zNDEwNzM3LDI3Ljk1NTg4NzEgNzUuMzAxNDQxOCwyNy45ODE0NjMxIDc1LjI3MTcxNzgsMjguMDAwNDcyNCBDNzQuNDg0NTQ1OCwyNy43MzA1NDE1IDczLjc2Mjk3MTUsMjMuNjc4ODEzNCA3NC4xNjIwMjQsMjMuMDAyNDMwOSBDNzQuNjgzMzg4OCwyMi4xMTkwMjA3IDc0Ljk0NDc1NDUsMjEuNjc1NTg3NiA3NC42NjY5ODkzLDIwLjY3NzQzMDkgQzc1LjA5NTA4MjUsMjIuMjE2ODMxOCA3NS42NTc0NDU4LDI0LjI3NTAxMTUgNzUuOTY2OTg0OCwyNS44NDMwOTkxIiBpZD0iRmlsbC02NCIgZmlsbD0iIzVEQzIwMCI+PC9wYXRoPg0KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02Mi40NTQwMzYxLDMxLjM3MDgwNjUgQzYyLjQ2MjU3NzQsMzIuMjM4MzE4IDYyLjE5NDAzNywzMy4zNjc0NjU0IDYwLjg2NTY4NDIsMzMuODE4ODQ3OSBDNTkuNDcxNzMzOCwzNC4wOTYzODI1IDU3Ljk5MDMxOTgsMzQuMzU1NTk5MSA1Ni40MjUyMDA0LDM0LjU5MzczMjcgQzUzLjgwNjA3NjksMzQuNjc4NzU1OCA1My4yMzgyNDcxLDMxLjQ4MDcxNDMgNTQuNjA3MjU2NywzMC4wNzE5NTg1IEM1NS4wMDAxNTk0LDI5LjY2NzU4MDYgNTUuMjcxNDMzMSwyOS41OTM2MTc1IDU1Ljc2MzA3NCwyOS40NTkxNzA1IEM1Ny4yODI3NTMzLDI5LjIyNzk0OTMgNTguNzIxMTE4OCwyOC45NzYzMzY0IDYwLjA3NDQxMjQsMjguNzA3MDk2OCBDNjIuMzYyMTMxLDI4LjU1NTcxNDMgNjIuNDUzNjk0NCwzMS4zNDI0NjU0IDYyLjQ1NDAzNjEsMzEuMzcwODA2NSIgaWQ9IkZpbGwtNjYiIGZpbGw9IiM1REMyMDAiPjwvcGF0aD4NCiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNzMuMzcyNzMzNywyNy4xOTcwNzM3IEM3My43NDYxNjIxLDI5LjE2NDAwOTIgNzMuMjA3MDMxMiwzMC43NTI0ODg1IDcyLjM2MDc1MywzMC4xNzg0MTAxIEM3MS4yNjkxNjY4LDI5LjQzODA4NzYgNzAuNjAwODkwNiwyNS42MjM0NTYyIDcxLjY5NjIzNSwyNC44MjEyNjczIEM3Mi40NzgyODIyLDI0LjQ4Nzc0MTkgNzMuMTQ3MjQxNywyNi4wMDk4NjE4IDczLjM3MjczMzcsMjcuMTk3MDczNyIgaWQ9IkZpbGwtNjgiIGZpbGw9IiM1REMyMDAiPjwvcGF0aD4NCiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNTAuNDc3MzAyOCw1MS4zMjY5MjQgQzUwLjA1MzY1MTEsNTMuNjU1MDM0NiA0Ni45MDcwMTMsNTQuNjY5NzgxMSA0NS42Njc0OTA0LDUyLjg3ODA3NiBDNDQuNzU4MDA2MSw1MS41NjM2NzUxIDQ1LjU3MjUxMDUsNDkuMDcwMDExNSA0OC4wNDUwNjQyLDQ4LjczNTc5NDkgQzUwLjA2MTUwOTIsNDguNjYwNzk0OSA1MC42ODEyNzA1LDUwLjIwNTcyNTggNTAuNDc3MzAyOCw1MS4zMjY5MjQiIGlkPSJGaWxsLTcwIiBmaWxsPSIjNURDMjAwIj48L3BhdGg+DQogICAgICAgICAgICAgICAgPHBhdGggZD0iTTY5Ljc2NjQzMzYsNDcuNTI5NzgxMSBDNjkuNTcxMzQ4OSw0OC4xODQ3MzUgNjkuMDkwMjk5Myw0OS4zNjA4ODcxIDY4LjA1OTUyNzYsNDkuODgxMDQ4NCBDNjcuMzAwNzEyOSw1MC4xNDYxNDA2IDY2LjQ4NDE1ODYsNTAuNDAzMjgzNCA2NS42MTE5MTQ2LDUwLjY1MTc4NTcgQzYzLjgyNzExMTQsNTAuOTAxNjcwNSA2NC4yMTg5ODkyLDQ4LjI3ODM5ODYgNjUuMTYxMjcyMyw0Ni45MzMyMzczIEM2NS42NTkwNjMsNDYuMjIyNjM4MiA2Ni4wNDYxNTc1LDQ2LjA1ODEyMjEgNjYuNDIwNjEwOSw0NS44OTg3OTAzIEM2Ny4zMTc3OTU2LDQ1LjY0MzAzIDY4LjE1NzkyNDEsNDUuMzc4MjgzNCA2OC45Mzg2MDQ3LDQ1LjEwNTU4NzYgQzcwLjUzMTM5ODEsNDQuODE5MDY2OCA2OS43NzQ2MzMzLDQ3LjUwMjQ3NyA2OS43NjY0MzM2LDQ3LjUyOTc4MTEiIGlkPSJGaWxsLTcyIiBmaWxsPSIjNURDMjAwIj48L3BhdGg+DQogICAgICAgICAgICAgICAgPHBhdGggZD0iTTczLjU2OTgsNDUuMzc3MzUwMiBDNzMuMDkwODAwNCw0Ny4zMjg3MzI3IDcyLjAyNTUyMTYsNDguODU3NDE5NCA3MS42Mzc3NDM3LDQ4LjE0OTIzOTYgQzcxLjE1OTc2OSw0Ny4yNzYxOTgyIDcyLjA2MjQyMDMsNDMuODE0NDQ3IDczLjE3Mjc5NzUsNDMuMDM5MjE2NiBDNzMuODQ4OTMxOCw0Mi43MjgxNTY3IDczLjkwNTMwNDgsNDQuMDEwNzYwNCA3My41Njk4LDQ1LjM3NzM1MDIiIGlkPSJGaWxsLTc0IiBmaWxsPSIjNURDMjAwIj48L3BhdGg+DQogICAgICAgICAgICAgICAgPHBhdGggZD0iTTYyLjY3MjA4LDQ2LjUyOTQxMjQgQzYyLjU5MDQyNDYsNDYuODczOTk3NyA2Mi40MzgzODgzLDQ3LjUxNTEyNjcgNTkuNDE0MDYyNSw1Mi4wNTU1NjQ1IEM1OC44MzgzNzQ2LDUyLjgxNTI0MTkgNTguMzM1ODAwOCw1My4xNjUzNTcxIDU3LjU1ODg3ODUsNTMuMzQ3MTU0NCBDNTcuNTQ5OTk1NCw1My4zNDg4ODI1IDU3LjU0MTQ1NDEsNTMuMzUwMjY1IDU3LjUzMjU3MTEsNTMuMzUxNjQ3NSBDNTcuMjYzNjg5LDUzLjM3NDExMjkgNTYuNTQ5NjMxLDUzLjQzNDI1MTIgNTYuMDc3NDY0NSw1Mi43OTY1NzgzIEM1My4zODI0OTM2LDQ5LjE1NjE0MDYgNTEuMjU1Njk0Miw0NS4xMzg5NzQ3IDQ4LjY5MjYwMiw0MS40MTA3NDg4IEw0Ny4xMjc4MjQzLDQzLjk0Mjc3NjUgQzQ2LjU2NjQ4Niw0NC43MzIxNzc0IDQ2LjAxNTA1NTYsNDUuMDY5ODUwMiA0NS4wOTM5NTUsNDUuMTg5NDM1NSBDNDAuMTk2Njc5MSw0NS41MTU3MDI4IDM1LjIxMjk2NDcsNDUuNjIxNDYzMSAzMC4zNzY4NDQ5LDQ1LjUyMzY1MjEgQzI3LjMyMjc5NTIsNDUuMTM4NjI5IDI3LjQ0NDc2NTksNDEuNzY4NDY3NyAyOC45NTExMjA2LDQwLjcyMDg4NzEgQzI5LjQzNzk3ODMsNDAuMzgyMTc3NCAyOS45MjgyNTI2LDQwLjM0MDAxMTUgMzAuMzIyMTgwMiw0MC4zMDYxNDA2IEMzNC43Mjc0NzM2LDQwLjM5NTMxMTEgMzkuMjU1MDc5Myw0MC4zMTUxMjY3IDQzLjcyODM2MTksNDAuMDUzNDkwOCBDNDQuNTc3MDMxNywzOC42NTA5NTYyIDQ1LjcwMTQxNjcsMzYuNzc2MzAxOCA0Ni41MjU0ODc0LDM1LjM1ODkwNTUgQzQ3LjAzNzYyNzYsMzQuNTY2NzM5NiA0Ny41NTIxNTkzLDM0LjIyMTExNzUgNDguNDIzMzc4MywzNC4wODM5MDU1IEM0OS4yNDI2NjU4LDM0LjA3MTgwODggNTAuOTQ3ODYzNSwzNC4wNDY5MjQgNTguNDM2NTg4OSw0Ni43MDA0OTU0IEw1OS4xOTU3NDUzLDQ1LjM3OTUyNzYgQzYwLjUzMjI5NzcsNDMuMjM2NjcwNSA2Mi4zMTU3MzQzLDQzLjcxOTE1OSA2Mi42ODQ3MjEyLDQ1LjE0NzYxNTIgQzYyLjc3OTcwMTIsNDUuNTE1NzAyOCA2Mi43NzQ1NzYzLDQ2LjA5NzAzOTIgNjIuNjcyMDgsNDYuNTI5NDEyNCIgaWQ9IkZpbGwtNzYiIGZpbGw9IiM1REMyMDAiPjwvcGF0aD4NCiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNzYuMzgxNzg3NSwzNC41MTc5NzI0IEM3Ni4zNzA4NTQ2LDM1LjEwMDY5MTIgNzYuMzEwMDQwMSwzNi41MjYwMzY5IDc1Ljk3Nzk1MTksMzcuMTY4ODk0IEM3NS4yNzMxMTg2LDM4LjEwNDE0NzUgNzMuOTk0OTg5MSwzOS4wMTcyODExIDcyLjE4ODY2MTYsMzkuODc2ODQzMyBDNzEuODU1NTQ4NSwzOS45ODk4NjE4IDcxLjU3MzY4MzUsMzkuOTI3MzA0MSA3MS4yNzk1MTksMzkuMjU1MDY5MSBDNjkuODg4NjQzNCwzNi4wNzYzODI1IDY5LjgzNDY2MiwzNS45NTIzMDQxIDY4LjA3MzQzMjksMzMuMDc1MzQ1NiBMNjcuNzM1NTM2NiwzNC40MDIxODg5IEM2Ny4xMjUsMzYuMzE0ODYxOCA2NS43NDQzNzQxLDM2LjM0NzAwNDYgNjUuMDA4MTA4NiwzNS4wOTgyNzE5IEM2NC44MDI0MzI2LDM0Ljc0OTUzOTIgNjQuNDc1ODEwOSwzMy45Nzg0NTYyIDY0LjU5ODEyMzIsMzIuNzMzODcxIEM2NC43Njg2MDg4LDMwLjk5NjA4MjkgNjUuNDEzNjUyNSwyOS4zNjc1MTE1IDY1LjczNzg4MjcsMjcuNjY0OTc3IEM2NS44MjM2Mzc5LDI3LjI2NjgyMDMgNjYuMDAxNjM5OSwyNi40Mzg3MDk3IDY2Ljc0NDM5NjksMjYuMTkxNTg5OSBDNjguNTU2MTkwOCwyNS44MTQ1MTYxIDcyLjYxNDAyMTUsMzQuMzA3MTQyOSA3Mi42NTM2NTM0LDM0LjM5MzIwMjggQzc0LjE3MjY0OTQsMzMuNjEzNDc5MyA3NS4yNjM4OTQsMzIuNzk0MDA5MiA3NS44OTQ5Mjk4LDMxLjk1NjU2NjggQzc1LjkyMTU3ODksMzEuOTM3NTU3NiA3NS45NTcxMTEsMzEuOTExOTgxNiA3NS45ODM3NiwzMS44OTI2MjY3IEM3Ni40MTM5MDMxLDMyLjEwNTE4NDMgNzYuMzg2MjI5LDM0LjI3MTU0MzggNzYuMzgxNzg3NSwzNC41MTc5NzI0IiBpZD0iRmlsbC04MCIgZmlsbD0iIzVEQzIwMCI+PC9wYXRoPg0KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02NS45MDU1MzI1LDM5Ljc1Njk0NyBDNjUuNzczOTk1NSw0Mi4xNjI4MjI2IDYzLjc3MTkwMDEsNDMuNjYyNDc3IDYyLjU1ODAwMTUsNDIuMjY0MDg5OSBDNjEuMzgwNjYwMSw0MC45MDc1MjMgNjEuOTU0OTgxMywzNy43MDI1NjkxIDYzLjg4ODA2MjYsMzcuMTA4NDQ0NyBDNjUuMzkzMDUwNywzNi44NjA5NzkzIDY1Ljk3Mzg2MzQsMzguNTA4MjE0MyA2NS45MDU1MzI1LDM5Ljc1Njk0NyIgaWQ9IkZpbGwtNzgiIGZpbGw9IiM1REMyMDAiPjwvcGF0aD4NCiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIyLjA5MDU4NiwzNS43MDAzODI3IEMxMjIuMDkwNTg2LDI3LjcyNzUwMTQgMTI4LjQxNzExNywyMC44OTM2MDMxIDEzNy4yMDk5MjIsMjAuODkzNjAzMSBDMTQ2LjAwMjcyNywyMC44OTM2MDMxIDE1Mi4zMjkyNTgsMjcuNzI3NTAxNCAxNTIuMzI5MjU4LDM1LjcwMDM4MjcgQzE1Mi4zMjkyNTgsNDMuNzgxNzM4NyAxNDYuMzI0NDE1LDUwLjQ1MjkyNTEgMTM3LjIwOTkyMiw1MC40NTI5MjUxIEMxMjguMDk1NDI5LDUwLjQ1MjkyNTEgMTIyLjA5MDU4Niw0My43ODE3Mzg3IDEyMi4wOTA1ODYsMzUuNzAwMzgyNyBaIE0xMzcuMjA5OTIyLDI1LjQ0OTUzNTMgQzEzMS44NDg0NTUsMjUuNDQ5NTM1MyAxMjcuMjM3NTk0LDI5Ljg0Mjc1NTYgMTI3LjIzNzU5NCwzNS43MDAzODI3IEMxMjcuMjM3NTk0LDQxLjEyNDExMTUgMTMxLjg0ODQ1NSw0NS44OTY5OTI5IDEzNy4yMDk5MjIsNDUuODk2OTkyOSBDMTQyLjU3MTM4OSw0NS44OTY5OTI5IDE0Ny4xODIyNSw0MS4xMjQxMTE1IDE0Ny4xODIyNSwzNS43MDAzODI3IEMxNDcuMTgyMjUsMjkuODQyNzU1NiAxNDIuNTcxMzg5LDI1LjQ0OTUzNTMgMTM3LjIwOTkyMiwyNS40NDk1MzUzIFoiIGlkPSJzb2xvci1jb3B5LTE2IiBmaWxsPSIjMDAyQTc3Ij48L3BhdGg+DQogICAgICAgICAgICAgICAgPHBhdGggZD0iTTE3Mi45NzA5MDQsMzUuNzAwMzgyNyBDMTcyLjk3MDkwNCwyNy43Mjc1MDE0IDE3OS4yOTc0MzUsMjAuODkzNjAzMSAxODguMDkwMjQsMjAuODkzNjAzMSBDMTk2Ljg4MzA0NSwyMC44OTM2MDMxIDIwMy4yMDk1NzYsMjcuNzI3NTAxNCAyMDMuMjA5NTc2LDM1LjcwMDM4MjcgQzIwMy4yMDk1NzYsNDMuNzgxNzM4NyAxOTcuMjA0NzMzLDUwLjQ1MjkyNTEgMTg4LjA5MDI0LDUwLjQ1MjkyNTEgQzE3OC45NzU3NDcsNTAuNDUyOTI1MSAxNzIuOTcwOTA0LDQzLjc4MTczODcgMTcyLjk3MDkwNCwzNS43MDAzODI3IFogTTE4OC4wOTAyNCwyNS40NDk1MzUzIEMxODIuNzI4Nzc0LDI1LjQ0OTUzNTMgMTc4LjExNzkxMiwyOS44NDI3NTU2IDE3OC4xMTc5MTIsMzUuNzAwMzgyNyBDMTc4LjExNzkxMiw0MS4xMjQxMTE1IDE4Mi43Mjg3NzQsNDUuODk2OTkyOSAxODguMDkwMjQsNDUuODk2OTkyOSBDMTkzLjQ1MTcwNyw0NS44OTY5OTI5IDE5OC4wNjI1NjgsNDEuMTI0MTExNSAxOTguMDYyNTY4LDM1LjcwMDM4MjcgQzE5OC4wNjI1NjgsMjkuODQyNzU1NiAxOTMuNDUxNzA3LDI1LjQ0OTUzNTMgMTg4LjA5MDI0LDI1LjQ0OTUzNTMgWiIgaWQ9InNvbG9yLWNvcHktMTciIGZpbGw9IiMwMDJBNzciPjwvcGF0aD4NCiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTUuNDcwOTA0Myw0MS41NTgwMDk4IEM5NS42MzE3NDgzLDQ2LjkyNzUwMTQgOTkuNDM4Mzg5Niw1MC40NTI5MjUxIDEwNS45NzkzNzksNTAuNDUyOTI1MSBDMTExLjEyNjM4Nyw1MC40NTI5MjUxIDExNi4xMTI1NTEsNDcuNDE1NjM3IDExNi4xMTI1NTEsNDEuNjY2NDg0NCBDMTE2LjExMjU1MSwzOC4wMzI1ODYxIDExNC42NjQ5NTUsMzUuNTkxOTA4MSAxMTAuMjY4NTUyLDM0LjI5MDIxMzIgTDEwMy43Mjc1NjMsMzIuMzkxOTA4MSBDMTAxLjQ3NTc0NywzMS43NDEwNjA3IDEwMC42MTc5MTIsMzAuNTQ3ODQwMyAxMDAuNjE3OTEyLDI4Ljk3NDk1OSBDMTAwLjYxNzkxMiwyNi43NTEyMzAyIDEwMi42MDE2NTUsMjQuOTA3MTYyNCAxMDUuNjU3NjkxLDI0LjkwNzE2MjQgQzEwOC44NzQ1NzEsMjQuOTA3MTYyNCAxMTAuNDgzMDExLDI2LjQ4MDA0MzcgMTEwLjg1ODMxMywyOS42ODAwNDM3IEwxMTUuMzYxOTQ1LDI5LjY4MDA0MzcgQzExNS4zNjE5NDUsMjUuNDQ5NTM1MyAxMTIuODk1NjcxLDIwLjg5MzYwMzEgMTA1Ljc2NDkyLDIwLjg5MzYwMzEgQzk5LjI3NzU0NTYsMjAuODkzNjAzMSA5NS43OTI1OTIzLDI0Ljc5ODY4NzggOTUuNzkyNTkyMywyOS40NjMwOTQ2IEM5NS43OTI1OTIzLDMyLjgyNTgwNjUgOTcuMzQ3NDE3NiwzNS41OTE5MDgxIDEwMS40NzU3NDcsMzYuNzMwODkxMiBMMTA2LjM1NDY4MiwzOC4wODY4MjM0IEMxMTAuMTA3NzA4LDM5LjExNzMzMTkgMTExLjI4NzIzMSw0MC4yNTYzMTQ5IDExMS4yODcyMzEsNDIuMTAwMzgyNyBDMTExLjI4NzIzMSw0My43ODE3Mzg3IDExMC4xMDc3MDgsNDYuMTY4MTc5MyAxMDUuNzY0OTIsNDYuMTY4MTc5MyBDMTAyLjgxNjExNCw0Ni4xNjgxNzkzIDEwMC4yOTYyMjQsNDQuNTk1Mjk4IDk5Ljk3NDUzNjIsNDEuNTU4MDA5OCBMOTUuNDcwOTA0Myw0MS41NTgwMDk4IFoiIGlkPSJQYXRoIiBmaWxsPSIjMDAyQTc3Ij48L3BhdGg+DQogICAgICAgICAgICAgICAgPHBhdGggZD0iTTE1OS41OTQwNDUsOC41ODE3Mzg2NiBMMTU5LjU5NDA0NSw0MS4zNDEwNjA3IEMxNTkuNTk0MDQ1LDQ3LjI1MjkyNTEgMTYyLjU0Mjg1Miw0OS44MDIwNzc2IDE2Ni45OTI4NjksNDkuODAyMDc3NiBMMTY4Ljk3NjYxMiw0OS44MDIwNzc2IEwxNjguOTc2NjEyLDQ1LjI0NjE0NTQgTDE2Ny41MjkwMTYsNDUuMjQ2MTQ1NCBDMTY1Ljk3NDE5LDQ1LjI0NjE0NTQgMTY0LjQxOTM2NSw0NC4xNjEzOTk3IDE2NC40MTkzNjUsNDAuOTYxMzk5NyBMMTY0LjQxOTM2NSw4LjU4MTczODY2IEwxNTkuNTk0MDQ1LDguNTgxNzM4NjYgWiIgaWQ9IlBhdGgiIGZpbGw9IiMwMDJBNzciPjwvcGF0aD4NCiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMjExLjExNzczOSw0OS44MDIwNzc2IEwyMTUuOTQzMDU5LDQ5LjgwMjA3NzYgTDIxNS45NDMwNTksMzMuNzQ3ODQwMyBDMjE1Ljk0MzA1OSwyOC41OTUyOTggMjE4LjYyMzc5MywyNS43NzQ5NTkgMjIyLjY0NDg5MywyNS43NzQ5NTkgQzIyMy4zOTU0OTgsMjUuNzc0OTU5IDIyNC4xNDYxMDMsMjUuODgzNDMzNiAyMjQuODQzMDk0LDI2LjA0NjE0NTQgTDIyNC44NDMwOTQsMjAuODkzNjAzMSBDMjIwLjc2ODM3OSwyMC44OTM2MDMxIDIxOC40NjI5NDksMjEuMTY0Nzg5NSAyMTYuMDUwMjg5LDI1LjU1ODAwOTggTDIxNS45NDMwNTksMjUuNTU4MDA5OCBMMjE1Ljk0MzA1OSwyMS41NDQ0NTA1IEwyMTEuMTE3NzM5LDIxLjU0NDQ1MDUgTDIxMS4xMTc3MzksNDkuODAyMDc3NiBaIiBpZD0iUGF0aCIgZmlsbD0iIzAwMkE3NyI+PC9wYXRoPg0KICAgICAgICAgICAgPC9nPg0KICAgICAgICA8L2c+DQogICAgPC9nPg0KPC9zdmc+');
                width: 100%;
                height: 66.666666666667%;
                background-size: 100% 100%;
            }
        </style>
        <script>
            $(function () {
                $("#canada").click(function () {
                    $("#canadaChoice").dialog();
                });
                $("#canada1").click(function () {
                    $("#canadaChoice").dialog("close");
                });
                $("#canada2").click(function () {
                    $("#canadaChoice").dialog("close");
                });
            });
        </script>


        <script type="text/javascript">
            function getCookie(c_name) {
                if (document.cookie.length > 0) {
                    var c_start = document.cookie.indexOf(c_name + "=");
                    if (c_start != -1) {
                        c_start = c_start + c_name.length + 1;
                        c_end = document.cookie.indexOf(";", c_start);
                        if (c_end == -1) {
                            c_end = document.cookie.length;
                        }
                        return unescape(document.cookie.substring(c_start, c_end));
                    }
                }
                return "";
            }

            function createCookie(name, value, days) {
                var expires;
                if (days) {
                    var date = new Date();
                    date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
                    expires = "; expires=" + date.toGMTString();
                }
                else {
                    expires = "";
                }
                document.cookie = name + "=" + value + expires + "; path=/";
            }

            var enableQueriesInFullPerspective = true;
            var selectedLanguage = 'en-US';
            var selectedFlag = 'img/flags/us.png';
            var currentPerspective = "home";

            //It can be time consuming to load all the collections into mongo.  If you are only loading one collection
            //set it here and all GUI elements will use this collection.  Used by switchReleases function
            var mongoDetails = {
                useMe: false,//if set to false this is ignored and normal defaults are taken, if true all the parameters are used!
                database: 'test',
                collection: 'concepts',
                mongoRestServer: 'http://localhost:3000/snomed'
            };

            var options = {
                serverUrl: "http://solor-browser.termspace.com/api/snomed",
                edition: "en-edition",
                release: "v20171114",
                releaseName: "SOLOR Edition 20171114",
                showIds: false,
                hideNotAcceptable: true,
                displayInactiveDescriptions: false,
                displaySynonyms: true,
                selectedView: "inferred",
                displayChildren: false,
                langRefset: ["900000000000509007"],
                closeButton: false,
                collapseButton: false,
                linkerButton: true,
                subscribersMarker: true,
                searchMode: "partialMatching",
                searchLang: "english",
                diagrammingMarkupEnabled: false,
                statusSearchFilter: "activeOnly",
                highlightByEffectiveTime: "false"
            };

            options.languageNameOfLangRefset = {
                "20581000087109": "fr-CA",
                "19491000087109": "en-CA",
                "900000000000508004": "GB",
                "900000000000509007": "US",
                "450828004":"ES",
                "554461000005103":"DA",
                "46011000052107":"SV",
                "32570271000036106":"AU",
                "999001251000000103":"UK",
                "11000146104":"NL"
            };

            if (mongoDetails.useMe) {
                options.serverUrl = mongoDetails.mongoRestServer
            }
            var manifests;
            function loadManifests(){
                xhrM = $.getJSON(options.serverUrl.replace("snomed", "") + "server/releases", function (result) {
                    // nothing
                }).done(function (result) {
                    manifests = result;
                    options.manifest = manifests[0];
                    start();
                    //console.log(result);
                }).fail(function () {
                    $.notify("Error Terminology server not accessible!", {
                        autoHide: false,
                        className: "error"
                    });
//                alert("Error Terminolgy server not accesed");
                    console.log("fail Manifest");
                });
            }

//            $.when(xhrM).done(function () {
//                xhr = $.getJSON("http://multibrowser.ihtsdotools.org/api/snomed".replace("snomed", "") + "server/releases", function (result) {
//                    // nothing
//                }).done(function (result) {
//                    $.each(result, function (i, field) {
//                        manifests.push(field);
//                    });
//                }).fail(function () {
//                    $.notify("Error Terminology server not accessible!", {
//                        autoHide: false,
//                        className: "error"
//                    });
////                console.log("fail Manifest");
//                });
//            });
//            $.when(xhrM).done(function () {
//                xhr = $.getJSON("https://browser-aws-1.ihtsdotools.org/api/snomed".replace("snomed", "") + "server/releases", function (result) {
//                    // nothing
//                }).done(function (result) {
//                    $.each(result, function (i, field) {
//                        manifests.push(field);
//                    });
//                    start();
//                }).fail(function () {
//                    $.notify("Error Terminology server not accessible!", {
//                        autoHide: false,
//                        className: "error"
//                    });
////                console.log("fail Manifest");
//                });
//            });


            var tours = {};
            var tour;

            var QueryString = function () {
                var query_string = {};
                var query = window.location.search.substring(1);
                var vars = query.split("&");
                for (var i = 0; i < vars.length; i++) {
                    var pair = vars[i].split("=");
                    if (typeof query_string[pair[0]] === "undefined") {
                        query_string[pair[0]] = pair[1];
                    } else if (typeof query_string[pair[0]] === "string") {
                        var arr = [query_string[pair[0]], pair[1]];
                        query_string[pair[0]] = arr;
                    } else {
                        query_string[pair[0]].push(pair[1]);
                    }
                }
                return query_string;
            }();

            function start() {
                // Read parameters
                countryIcons["11000207107"] = "en";
                countryIcons["601000205102"] = "solor";
                $(function() {
                    $.extend($.fn.disableTextSelect = function() {
                        return this.each(function() {
                            $(this).mousedown(function() {
                                return false;
                            });
                        });
                    });
                    $('.noSelect').disableTextSelect(); //No text selection on elements with a class of 'noSelect'
                });

                $("#accept-license-button-modal").unbind();
                $("#accept-license-button-modal").click(function(){
                    createCookie("licenseCookie", "true", 1);
                });

                if (typeof QueryString.dev != "undefined") {
                    console.log("Using Dev Server...");
                    //options.serverUrl = "http://107.170.33.116/api";
                }

                if (typeof QueryString.langRefset != "undefined") {
                    options.langRefset = QueryString.langRefset;
                }

                if (typeof QueryString.server != "undefined") {
//                    options.serverUrl = QueryString.server + "api/snomed";
                    options.serverUrl = QueryString.server;
                }

                var edition = QueryString.edition;
                if (typeof edition == "undefined" || edition == null || edition == "") {
                    edition = "en-edition";
                }
                options.edition = edition;

                var release = QueryString.release;
                if (typeof release == "undefined" || release == null || release == "") {
                    release = "v20171114";
                }
                options.release = release;

                var diagrammingMarkupEnabled = QueryString.diagrammingMarkupEnabled;
                if (typeof diagrammingMarkupEnabled == "undefined" || diagrammingMarkupEnabled == null || diagrammingMarkupEnabled == "") {
                    diagrammingMarkupEnabled = false;
                }
                options.diagrammingMarkupEnabled = diagrammingMarkupEnabled;

//                var langRefset = QueryString.langRefset;
                if (QueryString.langRefset) {
                    var langRefset = QueryString.langRefset.split(",");
                    if (typeof langRefset == "undefined" || langRefset == null || langRefset == "") {
                        langRefset = options.langRefset;
                    }
                    options.langRefset = langRefset;
                }

                if (options.releaseName) {
                    $("#editionLabel").html(options.releaseName);
                } else {
                    $("#editionLabel").html(edition + " " + release);
                }

                if (QueryString.ui_language == "en") {
                    selectedLanguage = 'en_US';
                    selectedFlag = 'img/flags/us.png';
                } else if (QueryString.ui_language == "es") {
                    selectedLanguage = 'es';
                    selectedFlag = 'img/flags/es.png';
                } else if (QueryString.ui_language == "da") {
                    selectedLanguage = 'da';
                    selectedFlag = 'img/flags/dk.png';
                } else if (QueryString.ui_language == "pt") {
                    selectedLanguage = 'pt';
                    selectedFlag = 'img/flags/pt.png';
                }

                switchLanguage(selectedLanguage, selectedFlag, false);

                var cdValue1 = QueryString.conceptId1;
                if (typeof cdValue1 == "undefined" || cdValue1 == null || cdValue1 == "") {
                    cdValue1 = 404684003;
                }

                var cdValue2 = QueryString.conceptId2;
                if (typeof cdValue2 == "undefined" || cdValue2 == null || cdValue2 == "") {
                    cdValue2 = 404684003;
                }

                var txValue1 = QueryString.conceptIdTx1;
                if (typeof txValue1 == "undefined" || txValue1 == null || txValue1 == "") {
                    txValue1 = 138875005;
                }

                var txValue2 = QueryString.conceptIdTx2;
                if (typeof txValue2 == "undefined" || txValue2 == null || txValue2 == "") {
                    txValue2 = 138875005;
                }

                var acceptLicense = QueryString.acceptLicense;
                if (typeof acceptLicense == "undefined" || acceptLicense == null || acceptLicense == "") {
                    acceptLicense = false;
                }
                options.acceptLicense = (acceptLicense == "true" || getCookie("licenseCookie") == "true");
                if (QueryString.edition && QueryString.release){
                    var i = 0;
                    while (i < manifests.length && (manifests[i].databaseName != edition || manifests[i].collectionName != release.substr(1))){
                        i++;
                    }
                    if (i < manifests.length){
                        options.manifest = manifests[i];
                        options.textIndexNormalized = options.manifest.textIndexNormalized;
//                        console.log(options.textIndexNormalized);
                        verifyDate(options.manifest.expirationDate);
                    }
                }
                if (QueryString.perspective == "home") {
                    initialize();
                } else if (QueryString.perspective == "browsing") {
                    currentPerspective = "browsing";
                    switchToBrowsing(cdValue1, cdValue2, txValue1);
                } else if (QueryString.perspective == "full") {
                    currentPerspective = "full";
                    switchToFullHeight(cdValue1, txValue1);
                } else if (QueryString.perspective == "compare_concepts") {
                    currentPerspective = "compare_concepts";
                    switchToComparingConcepts(cdValue1, cdValue2);
                } else if (QueryString.perspective == "compare_hierarchies") {
                    currentPerspective = "compare_hierarchies";
                    switchToComparingTaxonomies(cdValue1, txValue1, txValue2);
                } else if (QueryString.perspective == "responsive") {
                    currentPerspective = "responsive";
                    switchToResponsiveLayout(cdValue1, cdValue2, txValue1)
                } else {
                    initialize();
                }
                if (!options.acceptLicense) {
                    $('#license-modal').modal('show');
                }
                //                console.log(manifests);



//                verifyDate(release)
            }

            function initTour() {
                if (typeof tours[selectedLanguage] == "undefined") {
                    tours[selectedLanguage] = new Tour({
                        steps: [
                            {
                                element: "nothing",
                                title: i18n_tour_step1_fh_title,
                                content: i18n_tour_step1_fh_text,
                                placement: "bottom",
                                orphan: true,
                                backdrop: false,
                                onShow: function (tour) {
                                    switchToFullHeight(204351007, 138875005)
                                }
                            },
                            {
                                element: "#fh-tabs-pane",
                                title: i18n_tour_step2_title,
                                content: i18n_tour_step2_text,
                                placement: "right",
                                backdrop: true
                            },
                            {
                                element: "#fh-taxonomy_canvas-taxonomyConfigBar",
                                title: i18n_tour_step5_title,
                                content: i18n_tour_step5_text,
                                placement: "bottom",
                                backdrop: true
                            },
                            {
                                element: "#fh-taxonomy_canvas-treenode-404684003",
                                title: i18n_tour_step10_title,
                                content: i18n_tour_step10_text,
                                placement: "right",
                                backdrop: true
                            },
                            {
                                element: "#fh-taxonomy_canvas-treeicon-404684003",
                                title: i18n_tour_step11_title,
                                content: i18n_tour_step11_text,
                                placement: "right",
                                backdrop: true
                            },
                            {
                                element: "#fh-tabs",
                                title: i18n_tour_step2_5_title,
                                content: i18n_tour_step2_5_text,
                                placement: "bottom",
                                backdrop: true,
                                onNext: function (tour) {
                                    $('#fh-tabs li:eq(1) a').tab('show')
                                }
                            },
                            {
                                element: "#fh-tabs-pane",
                                title: i18n_tour_step3_title,
                                content: i18n_tour_step3_text,
                                placement: "right",
                                backdrop: true
                            },
                            {
                                element: "#fh-search_canvas-searchConfigBar",
                                title: i18n_tour_step6_title,
                                content: i18n_tour_step6_text,
                                placement: "bottom",
                                backdrop: true
                            },
                            {
                                element: "#fh-search_canvas",
                                title: i18n_tour_step12_title,
                                content: i18n_tour_step12_text,
                                placement: "right",
                                backdrop: true
                            },
                            {
                                element: "#fh-search_canvas-historyButton",
                                title: i18n_tour_step13_title,
                                content: i18n_tour_step13_text,
                                placement: "left",
                                backdrop: true,
                                onNext: function (tour) {
                                    $('#fh-tabs li:eq(0) a').tab('show')
                                }
                            },
                            {
                                element: "#fh-cd1_canvas",
                                title: i18n_tour_step4_title,
                                content: i18n_tour_step4_text,
                                placement: "left",
                                backdrop: true
                            },
                            {
                                element: "#fh-cd1_canvas-configButton",
                                title: i18n_tour_step7_title,
                                content: i18n_tour_step7_text,
                                placement: "left",
                                backdrop: true
                            },
                            /*{
                             element: "#fh-taxonomy_canvas-linkerButton",
                             title: i18n_tour_step8_title,
                             content: i18n_tour_step8_text,
                             placement: "left",
                             backdrop: true
                             },
                             {
                             element: "#bp-taxonomy_canvas-subscribersMarker",
                             title: i18n_tour_step9_title,
                             content: i18n_tour_step9_text,
                             placement: "right",
                             backdrop: true
                             },*/
                            {
                                element: "#details-tabs-fh-cd1_canvas",
                                title: i18n_tour_step13_1_title,
                                content: i18n_tour_step13_1_text,
                                placement: "bottom",
                                backdrop: true
                            },
                            {
                                element: "#fh-cd1_canvas-panelBody",
                                title: i18n_tour_step13_2_title,
                                content: i18n_tour_step13_2_text,
                                placement: "left",
                                backdrop: true,
                                onNext: function (tour) {
                                    $('#details-tabs-fh-cd1_canvas li:eq(1) a').tab('show')
                                }
                            },
                            {
                                element: "#fh-cd1_canvas-panelBody",
                                title: i18n_tour_step13_3_title,
                                content: i18n_tour_step13_3_text,
                                placement: "left",
                                backdrop: true
                            },
                            {
                                element: "#fh-cd1_canvas-attributesClip",
                                title: i18n_tour_step14_title,
                                content: i18n_tour_step14_text,
                                placement: "left",
                                backdrop: true,
                                onNext: function (tour) { initialize() }
                            },
                            {
                                element: "nothing",
                                title: i18n_tour_step15_title,
                                content: i18n_tour_step15_text,
                                placement: "bottom",
                                orphan: true,
                                backdrop: true
                            }
                        ],
                        storage: false,
                        debug: false,
                        template: "<div class='popover tour'><div class='arrow'></div><h3 class='popover-title'></h3><div class='popover-content'></div><div class='popover-navigation'><button class='btn btn-default' data-role='prev'>« " + i18n_tour_prev + "</button><span data-role='separator'>|</span><button class='btn btn-default' data-role='next'>" + i18n_tour_next + " »</button><button class='btn btn-default' data-role='end'>" + i18n_tour_end_tour + "</button></div></div>"
                    });
                    tour = tours[selectedLanguage];
                    tour.init();
                } else {
                    tour = tours[selectedLanguage];
                }
            }

            function tourStart() {
                if (tour.ended()) {
                    tour.restart();
                } else {
                    tour.start();
                }
            }
            function initialize() {
                var historyUrl = "?";
                manualStateChange = false;
                var state = {
                    name: "Home",
                    conceptId: "",
                    url: historyUrl
                };
                History.pushState(state, "SNOMED CT - Home");
                window.history.pushState("", "", "?");
                componentsRegistry = [];
                postal.unsubscribeFor();
                currentPerspective = "home";
                $("#welcome-perspective").css({"display": "block"});
                $("#browsing-perspective").css({"display": "none"});
                $("#comparing-concepts-perspective").css({"display": "none"});
                $("#comparing-taxonomies-perspective").css({"display": "none"});
                $("#full-height-perspective").css({"display": "none"});
                $("#responsive-perspective").css({"display": "none"});
                $("#perspectiveLabel").html("<em>...</em>");
                $('.more-fields-button').popover('hide');
            }
            function switchToBrowsing(cd1Value, cd2Value, txValue1) {
                currentPerspective = "browsing";
                postal.unsubscribeFor();
                if (typeof componentsRegistry != "undefined") {
                    $.each(componentsRegistry, function (i, field) {
                        field = null;
                    });
                    componentsRegistry = [];
                }
                $("#welcome-perspective").css({"display": "none"});
                $("#browsing-perspective").css({"display": "block"});
                $("#comparing-concepts-perspective").css({"display": "none"});
                $("#comparing-taxonomies-perspective").css({"display": "none"});
                $("#full-height-perspective").css({"display": "none"});
                $("#responsive-perspective").css({"display": "none"});
                $("#perspectiveLabel").html("Browsing");
                var tpt = new taxonomyPanel(document.getElementById("bp-taxonomy_canvas"), txValue1, options);
                var spa = new searchPanel(document.getElementById("bp-search_canvas"), options);
                var cdPanel1 = new conceptDetails(document.getElementById("bp-cd1_canvas"), cd1Value, options);
                var cdPanel2 = new conceptDetails(document.getElementById("bp-cd2_canvas"), cd2Value, options);
                cdPanel1.subscribe(tpt);
                cdPanel1.setupCanvas();
                cdPanel2.subscribe(spa);
                cdPanel2.setupCanvas();
                $('#spliter2').split({orientation: 'vertical', limit: 20, position: '30%'});
                $('#searchDetails').split({orientation: 'horizontal', limit: 10});
                $('#details').split({orientation: 'vertical', limit: 20});
                $.each(componentsRegistry, function (i, field){
                    field.loadMarkers();
                });
                switchLanguage(selectedLanguage, selectedFlag, false);
            }
            function switchToComparingConcepts(cd1Value, cd2Value) {
                currentPerspective = "compare_concepts";
                postal.unsubscribeFor();
                if (typeof componentsRegistry != "undefined") {
                    $.each(componentsRegistry, function (i, field) {
                        field = null;
                    });
                    componentsRegistry = [];
                }
                $("#welcome-perspective").css({"display": "none"});
                $("#browsing-perspective").css({"display": "none"});
                $("#comparing-concepts-perspective").css({"display": "block"});
                $("#comparing-taxonomies-perspective").css({"display": "none"});
                $("#full-height-perspective").css({"display": "none"});
                $("#responsive-perspective").css({"display": "none"});
                $("#perspectiveLabel").html("Comparing concepts");
                var spa = new searchPanel(document.getElementById("cc-search_canvas"), options);
                var cdPanel1 = new conceptDetails(document.getElementById("cc-cd1_canvas"), cd1Value, options);
                var cdPanel2 = new conceptDetails(document.getElementById("cc-cd2_canvas"), cd2Value, options);
                cdPanel1.subscribe(spa);
                cdPanel1.setupCanvas();
                cdPanel2.setupCanvas();
                $('#comparing-concepts-wrapper').split({orientation: 'horizontal'});
                $('#comparing-concept-details').split({orientation: 'vertical'});
                $.each(componentsRegistry, function (i, field) {
                    field.loadMarkers();
                });
                switchLanguage(selectedLanguage, selectedFlag, false);
            }
            function switchToComparingTaxonomies(cd1Value, txValue1, txValue2) {
                currentPerspective = "compare_hierarchies";
                postal.unsubscribeFor();
                if (typeof componentsRegistry != "undefined") {
                    $.each(componentsRegistry, function (i, field) {
                        field = null;
                    });
                    componentsRegistry = [];
                }
                $("#welcome-perspective").css({"display": "none"});
                $("#browsing-perspective").css({"display": "none"});
                $("#comparing-concepts-perspective").css({"display": "none"});
                $("#comparing-taxonomies-perspective").css({"display": "block"});
                $("#full-height-perspective").css({"display": "none"});
                $("#responsive-perspective").css({"display": "none"});
                $("#perspectiveLabel").html("Comparing taxonomies");
                var tx1 = new taxonomyPanel(document.getElementById("ct-tx1_canvas"), txValue1, options);
                var tx2 = new taxonomyPanel(document.getElementById("ct-tx2_canvas"), txValue2, options);
                var spa = new searchPanel(document.getElementById("ct-search_canvas"), options);
                var cdPanel1 = new conceptDetails(document.getElementById("ct-cd1_canvas"), cd1Value, options);
                cdPanel1.subscribe(spa);
                cdPanel1.setupCanvas();
                $('#comparing-taxonomies-wrapper').split({orientation: 'horizontal'});
                $('#taxonomies-canvas-wrapper').split({orientation: 'vertical'});
                $('#search-cd-wrapper').split({orientation: 'vertical'});
                $.each(componentsRegistry, function (i, field) {
                    field.loadMarkers();
                });
                switchLanguage(selectedLanguage, selectedFlag, false);
            }
            function switchToFullHeight(cd1Value, txValue1) {
                currentPerspective = "full";
                postal.unsubscribeFor();
                if (typeof componentsRegistry != "undefined") {
                    $.each(componentsRegistry, function (i, field) {
                        field = null;
                    });
                    componentsRegistry = [];
                }
                $("#welcome-perspective").css({"display": "none"});
                $("#browsing-perspective").css({"display": "none"});
                $("#comparing-concepts-perspective").css({"display": "none"});
                $("#comparing-taxonomies-perspective").css({"display": "none"});
                $("#full-height-perspective").css({"display": "block"});
                $("#responsive-perspective").css({"display": "none"});
                $("#perspectiveLabel").html("Full");
                var fhOptions = jQuery.extend(true, {}, options);
                fhOptions.subscribersMarker = false;
                fhOptions.linkerButton = false;
                var tpt = new taxonomyPanel(document.getElementById("fh-taxonomy_canvas"), txValue1, fhOptions);
                var fav = new favoritePanel(document.getElementById("fh-favorites_canvas"), fhOptions);
                var ref = new refsetPanel(document.getElementById("fh-refset_canvas"), fhOptions);
                var spa = new searchPanel(document.getElementById("fh-search_canvas"), fhOptions);
                var cdPanel1 = new conceptDetails(document.getElementById("fh-cd1_canvas"), cd1Value, fhOptions);
                enableQueriesInFullPerspective = false; // Disabling queries
                if (enableQueriesInFullPerspective){
                    $("#fh-query_canvas-li").show();
                    var qpa = new queryComputerPanel(document.getElementById("fh-query_canvas"), fhOptions);
                    cdPanel1.subscribe(qpa);
                }else{
                    $("#fh-query_canvas-li").hide();
                }
                cdPanel1.subscribe(tpt);
                cdPanel1.subscribe(spa);
                cdPanel1.subscribe(fav);
                cdPanel1.subscribe(ref);
                cdPanel1.setupCanvas();
                if (window.screen.width > 1500) {
                    $('#spliter-fh').split({orientation: 'vertical', limit: 20, position: '40%'});
                } else {
                    $('#spliter-fh').split({orientation: 'vertical', limit: 20, position: '50%'});
                }
                if (typeof QueryString.searchTerm != "undefined") {
                    $('#fh-tabs li:eq(1) a').tab('show');
                    searchInPanel(spa.divElement.id, decodeURI(QueryString.searchTerm));
                }
                $.each(componentsRegistry, function (i, field){
                    if (field.loadMarkers)
                        field.loadMarkers();
                });
                switchLanguage(selectedLanguage, selectedFlag, false);
            }
            function switchToResponsiveLayout(cd1Value, cd2Value, txValue1) {
                currentPerspective = "responsive";
                postal.unsubscribeFor();
                if (typeof componentsRegistry != "undefined") {
                    $.each(componentsRegistry, function (i, field) {
                        field = null;
                    });
                    componentsRegistry = [];
                }
                $("#welcome-perspective").css({"display": "none"});
                $("#browsing-perspective").css({"display": "none"});
                $("#comparing-concepts-perspective").css({"display": "none"});
                $("#comparing-taxonomies-perspective").css({"display": "none"});
                $("#full-height-perspective").css({"display": "none"});
                $("#responsive-perspective").css({"display": "block"});
                $("#perspectiveLabel").html("Responsive");
                var tpt = new taxonomyPanel(document.getElementById("rp-taxonomy_canvas"), txValue1, options);
                var spa = new searchPanel(document.getElementById("rp-search_canvas"), options);
                var cdPanel1 = new conceptDetails(document.getElementById("rp-cd1_canvas"), cd1Value, options);
                var cdPanel2 = new conceptDetails(document.getElementById("rp-cd2_canvas"), cd2Value, options);
                cdPanel1.subscribe(tpt);
                cdPanel1.setupCanvas();
                cdPanel2.subscribe(spa);
                cdPanel2.setupCanvas();
                $('#spliter2').split({orientation: 'vertical', limit: 20, position: '30%'});
                $('#searchDetails').split({orientation: 'horizontal', limit: 10});
                $('#details').split({orientation: 'vertical', limit: 20});
                $.each(componentsRegistry, function (i, field) {
                    field.loadMarkers();
                });
                switchLanguage(selectedLanguage, selectedFlag, false);
            }

            function reloadCurrentPerspective() {
                var cdValue1 = 404684003;
                var cdValue2 = 404684003;
                var txValue1 = 138875005;
                var txValue2 = 138875005;
                if (currentPerspective == "home") {
                    initialize();
                } else if (currentPerspective == "browsing") {
                    switchToBrowsing(cdValue1, cdValue2, txValue1);
                } else if (currentPerspective == "full") {
                    switchToFullHeight(cdValue1, txValue1);
                } else if (currentPerspective == "compare_concepts") {
                    switchToComparingConcepts(cdValue1, cdValue2);
                } else if (currentPerspective == "compare_hierarchies") {
                    switchToComparingTaxonomies(cdValue1, txValue1, txValue2);
                } else if (currentPerspective == "responsive") {
                    switchToResponsiveLayout(cdValue1, cdValue2, txValue1)
                } else {
                    currentPerspective = "home";
                    initialize();
                }
            }

            function switchRelease(label, edition, release, langRefset, serverUrl) {
                if (mongoDetails.useMe) {
                    edition = mongoDetails.database;
                    release = mongoDetails.collection;
                    serverUrl = mongoDetails.mongoRestServer;//serverUrl seems hardcoded in many places throughout the code
                }
//                verifyDate(release);
                if (langRefset == "31000146106") {
                    options.hideNotAcceptable = false;
                }
                postal.unsubscribeFor();
                if (typeof componentsRegistry != "undefined") {
                    $.each(componentsRegistry, function (i, field) {
                        field = null;
                    });
                    componentsRegistry = [];
                }
                var i = 0;
                while (i < manifests.length && (manifests[i].databaseName != edition || manifests[i].collectionName != release.substr(1))){
                    i++;
                }
                i = Math.min(i,manifests.length - 1);//fix array out of bounds causing NPE.

//                console.log(manifests[i].databaseName);
//                console.log(manifests[i].effectiveTime);

                if (i < manifests.length) {
                    options.manifest = manifests[i];
                    options.textIndexNormalized = options.manifest.textIndexNormalized;
//                        console.log(options.textIndexNormalized);
                    verifyDate(options.manifest.expirationDate);
                }
                options.edition = edition;
                options.release = release;
                options.langRefset = langRefset.split(",");
                if (serverUrl){
                    options.serverUrl = serverUrl;
                } else {
                    options.serverUrl = "http://browser.ihtsdotools.org/api/snomed";
                }
                $("#perspective-selector").find("button").first().removeClass("disabled");
                $("#editionLabel").html(label);
            }

            function verifyDate(release) {
//                var now = new Date();
//                //console.log(release.substring(1, 5) + " " +  release.substring(5, 7) + " " +  release.substring(7, 9));
//                var releaseDate = new Date(release.substring(1, 5), release.substring(5, 7) - 1, release.substring(7, 9));
//                if (releaseDate < now) {
////                    console.log("bien");
//                    $("#alert-section").html("");
//                } else {
////                    console.log("expirada");
//                    var alertHtml = '<div class="alert alert-danger" id="outdated-alert">';
//                    alertHtml = alertHtml + '<a href="#" class="close" data-dismiss="alert">&times;</a>';
//                    alertHtml = alertHtml + '<strong>Warning!</strong> the release you are browsing is expired.';
//                    alertHtml = alertHtml + '</div>';
//                    $("#alert-section").html(alertHtml);
//                    $("#outdated-alert").alert();
//                }
            }

            function switchLanguage(language, flagPng, fade) {
                selectedLanguage = language;
                selectedFlag = flagPng;
                $("#nav-selected-flag").html('<img src="' + flagPng + '">');
                $("#nav-selected-flag-modal").html('<img src="' + flagPng + '">');
                jQuery.i18n.properties({
                    name: 'Languages',
                    path: 'i18n/',
                    mode: 'both',
                    language: language
                });
                $(".i18n").each(function (index) {
                    var translation = jQuery.i18n.prop($(this).attr('data-i18n-id'));
                    if (translation != "[" + $(this).attr('data-i18n-id') + "]") {
                        if (fade) {
                            $(this).fadeOut("slow", function () {
                                $(this).html(translation);
                                $(this).fadeIn("slow");
                            });
                        } else {
                            $(this).html(translation);
                        }
                    } else {
                        console.log($(this).attr('data-i18n-id') + " = " + $(this).html());
                    }
                });
                initTour();
                $("#navBarBrand").tooltip().tooltip('destroy');
                $("#navBarBrand").tooltip({
                    placement: 'bottom',
                    trigger: 'hover',
                    title: i18n_go_back_home,
                    animation: true,
                    delay: 1000
                });
            }

        </script>
        <style>
            .ribbon {
                background-color: #a00;
                overflow: hidden;
                white-space: nowrap;
                position: absolute;
                left: -47px;
                top: 22px;
                -webkit-transform: rotate(-45deg);
                -moz-transform: rotate(-45deg);
                -ms-transform: rotate(-45deg);
                -o-transform: rotate(-45deg);
                transform: rotate(-45deg);
            }
            .ribbon span {
                border: 1px solid #faa;
                color: #fff;
                display: block;
                font: bold 100% 'Helvetica Neue', Helvetica, Arial, sans-serif;
                margin: 1px 0;
                padding: 3px 70px;
                text-align: center;
                text-decoration: none;
            }
            .navbar-brand {
                margin-top: 4px;
            }
            .navbar .navbar-btn {
                margin-left: 10px;
            }
        </style>
    </head>
    <body onLoad="loadManifests();" style="height: 100%; display: block;">
        <nav class="navbar navbar-default  navbar-static-top" role="navigation">
            <div>
                <!-- Brand and toggle get grouped for better mobile display -->
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>

                    <img class="pull-left " src="img/solor_color-small.png" style="height:50px" alt="IHTSDO delivering SNOMED, the global clinical terminology">
                    <a class="navbar-brand" href="javascript:void(0);" onclick="initialize();" id="navBarBrand">
                        <strong>
                            &nbsp;&nbsp;HSPC SOLOR Browser</strong></a>
                </div>
                <!-- Collect the nav links, forms, and other content for toggling -->
                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1" style="padding-left: 20px; padding-right: 20px;">
                    <ul class="nav navbar-nav navbar-right">
                        <li class="navbar-btn" id="edition-selector">
                            <button type="button" class="btn btn-success dropdown-toggle" data-toggle="dropdown">
                                <span class="i18n" data-i18n-id="i18n_release">Release</span>:&nbsp;<span id="editionLabel">International Edition 20150731</span> <span class="caret"></span>
                            </button>
                            <ul class="dropdown-menu" role="menu">
                                <!--<li><a href="javascript:void(0);" onclick="switchRelease('International Edition 20150731', 'en-edition', 'v20150731', '900000000000509007', 'https://browser-aws-1.ihtsdotools.org/api/snomed');-->
                                        <!--reloadCurrentPerspective();">International Edition 20150731</a></li>-->
                                <!--<li><a href="javascript:void(0);" onclick="switchRelease('Spanish Edition 20150430', 'es-edition', 'v20150430', '450828004', 'http://multibrowser.ihtsdotools.org/api/snomed');-->
                                        <!--reloadCurrentPerspective();">Spanish Edition 20150430</a></li>-->
                                <!--<li><a href="javascript:void(0);" onclick="switchRelease('Australian Edition 20150531', 'au-edition', 'v20150531', '46011000052107', 'https://browser-aws-1.ihtsdotools.org/api/snomed');-->
                                        <!--reloadCurrentPerspective();">Australian Edition 20150531</a></li>-->
                                <!--<li><a href="javascript:void(0);" onclick="switchRelease('en-Canadian Edition 20150526', 'en-ca-edition', 'v20150526', '19491000087109', 'https://browser-aws-1.ihtsdotools.org/api/snomed');-->
                                        <!--reloadCurrentPerspective();">Canadian EN Edition 20150526</a></li>-->
                                <!--<li><a href="javascript:void(0);" onclick="switchRelease('fr-Canadian Edition 20150526', 'fr-ca-edition', 'v20150526', '20581000087109,900000000000509007', 'https://browser-aws-1.ihtsdotools.org/api/snomed');-->
                                        <!--reloadCurrentPerspective();">Canadian FR Edition 20150526</a></li>-->
                                <!--<li><a href="javascript:void(0);" onclick="switchRelease('Danish Edition 20150731', 'dk-edition', 'v20150731', '554461000005103', 'https://browser-aws-1.ihtsdotools.org/api/snomed');-->
                                        <!--reloadCurrentPerspective();">Danish Edition 20150731</a></li>-->
                                <!--<li><a href="javascript:void(0);" onclick="switchRelease('Netherlands Edition 20150916', 'nl-edition', 'v20150916', '31000146106', 'https://browser-aws-1.ihtsdotools.org/api/snomed');-->
                                        <!--reloadCurrentPerspective();">NL Edition 20150916</a></li>-->
                                <!--<li><a href="javascript:void(0);" onclick="switchRelease('Swedish Edition 20151130', 'se-edition', 'v20151130', '46011000052107', 'http://multibrowser.ihtsdotools.org/api/snomed');-->
                                        <!--reloadCurrentPerspective();">Swedish Edition 20151130</a></li>-->
                                <!--<li><a href="javascript:void(0);" onclick="switchRelease('United Kingdom Edition 20151001', 'uk-edition', 'v20151001', '900000000000508004', 'https://browser-aws-1.ihtsdotools.org/api/snomed');-->
                                        <!--reloadCurrentPerspective();">UK Edition 20151001</a></li>-->
                                <!--<li><a href="javascript:void(0);" onclick="switchRelease('United States Edition 20150901', 'us-edition', 'v20150901', '900000000000509007', 'https://browser-aws-1.ihtsdotools.org/api/snomed');-->
                                        <!--reloadCurrentPerspective();">US Edition 20150901</a></li>-->
                                <li><a href="javascript:void(0);" onclick="switchRelease('SOLOR Edition 20171114', 'en-edition', 'v20171114', '900000000000509007', 'http://solor-browser.termspace.com/api/snomed');
                                        reloadCurrentPerspective();">SOLOR Edition 20171114</a></li>
                            </ul>
                        </li>
                        <li class="navbar-btn" id="perspective-selector">
                            <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
                                <span class="i18n" data-i18n-id="i18n_perspective">Perspective</span>:&nbsp;<span id="perspectiveLabel"><em>...</em></span> <span class="caret"></span>
                            </button>
                            <ul class="dropdown-menu">
                                <li><a href="javascript:void(0);" onclick="switchToFullHeight(404684003, 138875005);"><span class="i18n" data-i18n-id="i18n_full_perspective">Full</span></a></li>
                                <!--                                <li><a href="javascript:void(0);" onclick="switchToBrowsing(404684003,404684003, 138875005);"><span class="i18n" data-i18n-id="i18n_browsing_perspective">Browsing</span></a></li> -->
                                <li><a href="javascript:void(0);" onclick="switchToComparingConcepts(404684003, 404684003);"><span class="i18n" data-i18n-id="i18n_comp_concepts_perspective">Comparing concepts</span></a></li>
                                <li><a href="javascript:void(0);" onclick="switchToComparingTaxonomies(404684003, 138875005, 138875005);"><span class="i18n" data-i18n-id="i18n_comp_hier_perspective">Comparing hierarchy</span></a></li>
                                <li><a href="javascript:void(0);" onclick="switchToResponsiveLayout(404684003, 404684003, 138875005);"><span class="i18n" data-i18n-id="i18n_responsive_perspective">Responsive (tablets, phones)</span></a></li>
                            </ul>
                        </li>
                        <li style="display: none;" class="navbar-btn feedback-button">
                            <button type="button" class="btn btn-info" onclick="//FreshWidget.show();return false;">
                                <span class="i18n" data-i18n-id="i18n_feedback">Feedback</span>
                            </button>
                        </li>
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown"><span class="i18n" data-i18n-id="i18n_about">Help</span> <b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                <!--       <li><a href="mailto:otf@ihtsdo.org?subject=feedback" target="_blank"><span class="i18n" data-i18n-id="i18n_provide_feedback">Provide feedback on this browser</span></a></li> -->
                                <li><a href="https://github.com/IHTSDO/sct-browser-frontend" target="_blank"><span class="i18n" data-i18n-id="i18n_github">See the code on GitHub</span></a></li>
                                <!--  <li><a href="#">About SNOMED CT</a></li> -->
                                <li class="divider"></li>
                                <li><a href="https://www.hspconsortium.org/" target="_blank">HSPC</a></li>
                            </ul>
                        </li>
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown"><span id="nav-selected-flag"></span> <b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                <li><a href="javascript:void(0);" onclick="switchLanguage('en_US', 'img/flags/us.png', true);"><img src="img/flags/us.png"> English</a></li>
                                <li><a href="javascript:void(0);" onclick="switchLanguage('es', 'img/flags/es.png', true);"><img src="img/flags/es.png"> Español</a></li>
                                <!--                                <li><a href="javascript:void(0);" onclick="switchLanguage('pt', 'img/flags/pt.png', true);"><img src="img/flags/pt.png"> Portuguese</a></li>
                                                                <li><a href="javascript:void(0);" onclick="switchLanguage('en_GB', 'img/flags/gb.png', true);"><img src="img/flags/gb.png"> English (GB)</a></li>
                                                                <li><a href="javascript:void(0);" onclick="switchLanguage('se', 'img/flags/se.png', true);"><img src="img/flags/se.png"> Swedish</a></li> -->
                                <li><a href="javascript:void(0);" onclick="switchLanguage('da', 'img/flags/dk.png', true);"><img src="img/flags/dk.png"> Dansk</a></li>
                                <li><a href="javascript:void(0);" onclick="switchLanguage('pt', 'img/flags/pt.png', true);"><img src="img/flags/pt.png"> Português</a></li>
                                <li class="divider"></li>
                                <li style="margin: 5px;"><em><span class="i18n text-muted small" data-i18n-id="i18n_translation_warning">This option only applies to the Browser. Terminology language depends on the selected edition.</span></em></li>
                            </ul>
                        </li>
                    </ul>
                </div><!-- /.navbar-collapse -->
            </div><!-- /.container-fluid -->
        </nav>
        <div id="alert-section">
        </div>
        <div class="container-fluid" style="height: 100%">
            <!-- Welcome Perspective -->
            <div id="welcome-perspective"  class="bperspective">
                <div class="jumbotron">
                    <h1><span>SOLOR: the SNOMED CT Extension Browser</span></h1>
                    <p><span>SOLOR is a System Of LOgical Representation (SOLOR) that integrates specific terminologies such as – but not limited to – SNOMED CT, LOINC, RX-Norm. These three terminologies form the foundation of SOLOR because they are meaningful use standards, where when integrated together, they represent the breadth of information necessary for clinical data representation.</span></p>
                    <p>SOLOR is an open, collaborative project among numerous participants, large and small.  The initiative is currently guided by the Veterans Health Administration, and coordinated within the Healthcare Services Platform Consortium (HSPC).</p>
                    <br>
                    <p>Visit <a href="http://solor.io/" target="_blank">solor.io</a> for more information.</p>
                    <p>
                        <a class="btn btn-primary btn-lg" role="button" onclick="switchRelease('SOLOR Edition 20171114', 'en-edition', 'v20171114', '900000000000509007', 'http://solor-browser.termspace.com/api/snomed');
                                switchLanguage('en-US', 'img/flags/en.png', true);
                                switchToFullHeight(404684003, 138875005);"><img src="img/solor-world.png" style="height:25px">&nbsp;&nbsp;&nbsp;Go browsing...</span><br><span class="small">SOLOR edition</span></a>
                    </p>
                    <!--<p>-->
                        <!--&nbsp;&nbsp;<span class="i18n" data-i18n-id="i18n_or">or</span>&nbsp;&nbsp;-->
                        <!--<a class="btn btn-primary " role="button" onclick="tourStart();"><span class="i18n" data-i18n-id="i18n_take_tour">take the Tour...</span></a></p>-->

                    <!--<p><span class="i18n" data-i18n-id="i18n_home8">Many thanks to the IHTSDO Member countries who have provided their extensions in this browser. If you would like to enquire further about any of the Member country extensions in this browser, please contact the relevant National Release Center via the URL's below:</span></p>-->
                    <!--<p class="lead">-->
                        <!--<img src="img/flags/au.png">&nbsp;&nbsp;&nbsp;<a href="http://www.nehta.gov.au" target="_blank">National E-Health Transition Authority (NEHTA), Australia</a>-->
                        <!--<br><img src="img/flags/ca.png">&nbsp;&nbsp;&nbsp;<a href="https://www.infoway-inforoute.ca/en/" target="_blank">Canada Health Infoway, Canada</a>-->
                        <!--<br><img src="img/flags/dk.png">&nbsp;&nbsp;&nbsp;<a href="http://www.ssi.dk/English/HealthdataandICT/The%20National%20eHealth%20Authority.aspx" target="_blank">The National eHealth Authority, Denmark</a>-->
                        <!--<br><img src="img/flags/nl.png">&nbsp;&nbsp;&nbsp;<a href="http://www.nictiz.nl/page/Standaarden/SNOMED-CT" target="_blank">Nictiz, Netherlands</a>-->
                        <!--<br><img src="img/flags/se.png">&nbsp;&nbsp;&nbsp;<a href="http://www.socialstyrelsen.se/facksprak" target="_blank">The National Board of Health and Welfare, Sweden</a>-->
                        <!--<br><img src="img/flags/gb.png">&nbsp;&nbsp;&nbsp;<a href="http://systems.hscic.gov.uk/data/uktc" target="_blank">The Health and Social Care Information Centre (HSCIC), United Kingdom</a>-->
                        <!--<br><img src="img/flags/us.png">&nbsp;&nbsp;&nbsp;<a href="http://www.nlm.nih.gov/" target="_blank">National Library of Medicine (NLM), United States</a>-->
                        <!--<br><img src="img/flags/uy.png">&nbsp;&nbsp;&nbsp;<a href="http://www.agesic.gub.uy/innovaportal/v/4425/1/agesic/programa-saluduy.html" target="_blank">Salud.uy, SOLOR</a>-->
                    <!--</p>-->

                    <!--<p><span class="i18n" data-i18n-id="i18n_home4">If you would like to get involved in the development, this code is available under an Apache v2 open source license. You can also find more information on the current backlog of feedback that is up for possible development here - <a href="https://confluence.ihtsdotools.org/display/TOOLS/IHTSDO+SNOMED+CT+Browser" target="_blank">IHTSDO Browser service page</a></span></p>-->
                </div>
                <p><span class="i18n" data-i18n-id="i18n_home6"><span class="btn-success"><em>Releases</em></span> will allow the selection of SNOMED CT content from the International Edition or other extensions, with specific dates.</span></p>
                <p><span class="i18n" data-i18n-id="i18n_home7"><span class="btn-primary"><em>Perspectives</em></span>  are pre-defined browsing layouts for specific purposes. Use the <a href="javascript:void(0);" onclick="switchToResponsiveLayout(404684003, 404684003, 138875005);">responsive perspective</a> for best results in tablets and phones.</span></p>
            </div>
            <!-- Browsing Perspective -->
            <div id="browsing-perspective" class="bperspective">
                <div id="spliter2" class="row" style="width:100%; height: 91%; position: absolute;">
                    <div class="a panel panel-default" style="border-radius: 0px;">
                        <div id="bp-taxonomy_canvas" style="padding: 0px;margin: 0;"></div>
                    </div>
                    <div class="" id="searchDetails">
                        <div class="row panel panel-default" style="border-radius: 0px;" >
                            <div class="col-md-12" id="bp-search_canvas" style="padding: 0px;margin: 0;"></div>
                        </div>
                        <div class="" id="details" >
                            <div class="col-md-6 panel panel-default" style="border-radius: 0px;" >
                                <div class="col-md-12" id="bp-cd1_canvas" style="padding: 0px;margin: 0;"></div>
                            </div>
                            <div class="col-md-6 panel panel-default" style="border-radius: 0px;" >
                                <div class="col-md-12" id="bp-cd2_canvas" style="padding: 0px;margin: 0;"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <footer>
                <p>
                    <small><b>&copy; SOLOR 2018</b></small>
                </p>
            </footer>

            <!-- Comparing concepts -->
            <div id="comparing-concepts-perspective" class="bperspective">
                <div id="comparing-concepts-wrapper" class="row" style="width:100%; height: 91%; position: absolute;">
                    <div class="" id="comparing-concept-details" >
                        <div class="col-md-6" style="padding: 0px;margin: 0;">
                            <div class="col-md-12" id="cc-cd1_canvas" style="padding: 0px;margin: 0;"></div>
                        </div>
                        <div class="col-md-6" style="padding: 0px;margin: 0;">
                            <div class="col-md-12" id="cc-cd2_canvas" style="padding: 0px;margin: 0;"></div>
                        </div>
                    </div>
                    <div class="">
                        <div class="col-md-12" id="cc-search_canvas" style="padding: 0px;margin: 0;"></div>
                    </div>
                </div>
            </div>
            <!-- Comparing hierarchy -->
            <div id="comparing-taxonomies-perspective" class="bperspective">
                <div id="comparing-taxonomies-wrapper" class="row" style="width:100%; height: 91%; position: absolute;">
                    <div class="" id="taxonomies-canvas-wrapper">
                        <div class="col-md-6" style="padding: 0px;margin: 0;">
                            <div class="col-md-12" id="ct-tx1_canvas"  style="padding: 0px;margin: 0;"></div>
                        </div>
                        <div class="col-md-6" style="padding: 0px;margin: 0;">
                            <div class="col-md-12" id="ct-tx2_canvas"  style="padding: 0px;margin: 0;"></div>
                        </div>
                    </div>
                    <div class="" id="search-cd-wrapper">
                        <div class="col-md-6" style="padding: 0px;margin: 0;">
                            <div class="col-md-12" id="ct-search_canvas"  style="padding: 0px;margin: 0;"></div>
                        </div>
                        <div class="col-md-6" style="padding: 0px;margin: 0;">
                            <div class="col-md-12" id="ct-cd1_canvas"  style="padding: 0px;margin: 0;"></div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Full Perspective -->
            <div id="full-height-perspective" class="bperspective">
                <div id="spliter-fh" class="row" style="width:100%; height: 91%; position: absolute;">
                    <div class="a panel panel-default" id="fh-tabs-pane" style="border-radius: 0px;">
                        <!-- Nav tabs -->
                        <ul class="nav nav-tabs" id="fh-tabs">
                            <li class="active">
                                <a href="#fh-taxonomy_canvas" data-toggle="tab">
                                    <div>
                                        <span ondrop="dropT(event, 'fh-taxonomy_canvas');$('#fh-tabs a:first').tab('show');" ondragleave="removeHighlight();" ondragover="allowDrop(event)" class="i18n" data-i18n-id="i18n_taxonomy">Taxonomy</span>
                                    </div>
                                </a>
                            </li>
                            <li><a href="#fh-search_canvas" data-toggle="tab"><span class="i18n" data-i18n-id="i18n_search">Search</span></a></li>
                            <li id="fh-favorites_canvas-li"><a href="#fh-favorites_canvas" data-toggle="tab"><span class="i18n" data-i18n-id="i18n_favorites">Favorites</span></a></li>
                            <li id="fh-refset_canvas-li"><a href="#fh-refset_canvas" data-toggle="tab"><span class="i18n" data-i18n-id="i18n_refset">Refset</span></a></li>
                            <li id="fh-query_canvas-li"><a href="#fh-query_canvas" data-toggle="tab"><span class="i18n" data-i18n-id="i18n_constraint">Constraint</span></a></li>
                        </ul>
                        <div class="tab-content">
                            <div class="tab-pane active" id="fh-taxonomy_canvas" style="padding: 0px;margin: 0;"></div>
                            <div class="tab-pane" id="fh-search_canvas" style="padding: 0px;margin: 0;"></div>
                            <div class="tab-pane" id="fh-favorites_canvas" style="padding: 0px;margin: 0;"></div>
                            <div class="tab-pane" id="fh-refset_canvas" style="padding: 0px;margin: 0;"></div>
                            <div class="tab-pane" id="fh-query_canvas" style="padding: 0px;margin: 0;"></div>
                        </div>
                    </div>
                    <div class="" id="conceptDetails-fh">
                        <div class="col-md-12" id="fh-cd1_canvas" style="padding: 0px;margin: 0;"></div>
                    </div>
                </div>
            </div>
            <!-- Responsive Perspective -->
            <div id="responsive-perspective" class="bperspective">
                <div id="comparing-taxonomies-wrapper3" class="row" style="width:100%; height: 91%; position: absolute;padding: 0px !important;margin: 0 !important;">
                    <div class="row">
                        <div id="rp-taxonomy_canvas" class="col-sm-6" style="height: 500px;padding: 0px;margin: 0;border: 1px solid gainsboro;"></div>
                        <div id="rp-cd1_canvas" class="col-sm-6" style="height: 500px;padding: 0px;margin: 0;border: 1px solid gainsboro;"></div>
                        <div id="rp-search_canvas" class="col-sm-6" style="height: 500px;padding: 0px;margin: 0;border: 1px solid gainsboro;"></div>
                        <div id="rp-cd2_canvas" class="col-sm-6" style="height: 500px;padding: 0px;margin: 0;border: 1px solid gainsboro;"></div>
                    </div>
                </div>
            </div>
        </div>
        <!-- License agreement modal -->
        <div class="modal fade" id="license-modal" data-backdrop="static">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title"><span class="i18n" data-i18n-id="i18n_licence_agreement">IHTSDO SNOMED CT Browser License Agreement</span></h4>
                    </div>
                    <div class="modal-body">
                        <p><span class="i18n" data-i18n-id="i18n_licence_agreement_1">In order to use the IHTSDO SNOMED CT Browser, please accept the following license agreement</span>:</p>
                        <div style="height: 300px; overflow: auto; margin: 20px; border: 1px solid; padding: 10px;">
                            <p><span class="i18n" data-i18n-id="i18n_licence_agreement_2"><strong>IHTSDO SNOMED CT Browser</strong> includes SNOMED Clinical Terms® (SNOMED CT®) which is used by permission of the International Health Terminology Standards Development Organization (IHTSDO). All rights reserved. SNOMED CT® was originally created by the College of American Pathologists.</span>
                                <span class="i18n" data-i18n-id="i18n_licence_agreement_3">“SNOMED”, “SNOMED CT” and “SNOMED Clinical Terms” are registered trademarks of the IHTSDO (<a href="http://www.ihtsdo.org">www.ihtsdo.org</a>).</span></p>
                            <p><span class="i18n" data-i18n-id="i18n_licence_agreement_4">Use of SNOMED CT in <strong>IHTSDO SNOMED CT Browser</strong> is governed by the conditions of the following SNOMED CT license issued by the IHTSDO</span>:</p>
                            <p style="margin-left: 20px;">1. <span class="i18n" data-i18n-id="i18n_licence_agreement_5">The meaning of the terms “Affiliate”, or “Data Analysis System”, “Data Creation System”, “Derivative”, “End User”, “Extension”, “Member”, “Non-Member Territory”, “SNOMED CT” and “SNOMED CT Content” are as defined in the IHTSDO Affiliate License Agreement (see www.ihtsdo.org/license.pdf)</span>.</p>
                            <p style="margin-left: 20px;">2. <span class="i18n" data-i18n-id="i18n_licence_agreement_6">Information about Affiliate Licensing is available at <a href="http://www.ihtsdo.org/license">www.ihtsdo.org/license</a>. Individuals or organizations wishing to register as IHTSDO Affiliates can register at <a href="http://www.ihtsdo.org/salsa">www.ihtsdo.org/salsa</a>, subject to acceptance of the Affiliate License Agreement (see <a href="http://www.ihtsdo.org/license.pdf">www.ihtsdo.org/license.pdf)</a></span>.</p>
                            <p style="margin-left: 20px;">3. <span class="i18n" data-i18n-id="i18n_licence_agreement_7">The current list of IHTSDO Member Territories can be viewed at <a href="http://www.ihtsdo.org/members">www.ihtsdo.org/members</a>. Countries not included in that list are “Non-Member Territories”</span>.</p>
                            <p style="margin-left: 20px;">4. <span class="i18n" data-i18n-id="i18n_licence_agreement_8">End Users, that do not hold an IHTSDO Affiliate License, may access SNOMED CT® using <strong>IHTSDO SNOMED CT Browser</strong> subject to acceptance of and adherence to the following sub-license limitations</span>:</p>
                            <p style="margin-left: 40px;">a) <span class="i18n" data-i18n-id="i18n_licence_agreement_9">The sub-licensee is only permitted to access SNOMED CT® using this software (or service) for the purpose of exploring and evaluating the terminology</span>.</p>
                            <p style="margin-left: 40px;">b) <span class="i18n" data-i18n-id="i18n_licence_agreement_10">The sub-licensee is not permitted the use of this software as part of a system that constitutes a SNOMED CT “Data Creation System” or “Data Analysis System”, as defined in the IHTSDO Affiliate License. This means that the sub-licensee must not use <strong>IHTSDO SNOMED CT Browser</strong> to add or copy SNOMED CT identifiers into any type of record system, database or document</span>.</p>
                            <p style="margin-left: 40px;">c) <span class="i18n" data-i18n-id="i18n_licence_agreement_11">The sub-licensee is not permitted to translate or modify SNOMED CT Content or Derivatives</span>.</p>
                            <p style="margin-left: 40px;">d) <span class="i18n" data-i18n-id="i18n_licence_agreement_12">The sub-licensee is not permitted to distribute or share SNOMED CT Content or Derivatives</span>.</p>
                            <p style="margin-left: 20px;">5. <span class="i18n" data-i18n-id="i18n_licence_agreement_13">IHTSDO Affiliates may use <strong>IHTSDO SNOMED CT Browser</strong> as part of a “Data Creation System” or “Data Analysis System” subject to the following conditions</span>:</p>
                            <p style="margin-left: 40px;">a) <span class="i18n" data-i18n-id="i18n_licence_agreement_14">The IHTSDO Affiliate, using <strong>IHTSDO SNOMED CT Browser</strong> must accept full responsibility for any reporting and fees due for use or deployment of such a system in a Non-Member Territory</span>.</p>
                            <p style="margin-left: 40px;">b) <span class="i18n" data-i18n-id="i18n_licence_agreement_15">The IHTSDO Affiliate must not use <strong>IHTSDO SNOMED CT Browser</strong> to access or interact with SNOMED CT in any way that is not permitted by the Affiliate License Agreement</span>.</p>
                            <p style="margin-left: 40px;">c) <span class="i18n" data-i18n-id="i18n_licence_agreement_16">In the event of termination of the Affiliate License Agreement, the use of <strong>IHTSDO SNOMED CT Browser</strong> will be subject to the End User limitations noted in 4</span>.</p>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <a href="http://www.ihtsdo.org" class="btn btn-danger"><span class="i18n" data-i18n-id="i18n_reject">Reject</span></a>
                        <button id="accept-license-button-modal" type="button" class="btn btn-success" data-dismiss="modal"><span class="i18n" data-i18n-id="i18n_accept">Accept</span></button>
                        <div class="btn-group dropup pull-left">
                            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                                <span id="nav-selected-flag-modal"></span> <span class="caret"></span>
                            </button>
                            <ul class="dropdown-menu" role="menu">
                                <li class="pull-left"><a href="javascript:void(0);" onclick="switchLanguage('en_US', 'img/flags/us.png', true);"><img src="img/flags/us.png"> English</a></li>
                                <li class="pull-left"><a href="javascript:void(0);" onclick="switchLanguage('es', 'img/flags/es.png', true);"><img src="img/flags/es.png"> Español</a></li>
                                <li class="pull-left"><a href="javascript:void(0);" onclick="switchLanguage('da', 'img/flags/dk.png', true);"><img src="img/flags/dk.png"> Dansk</a></li>
                                <li class="pull-left"><a href="javascript:void(0);" onclick="switchLanguage('pt', 'img/flags/pt.png', true);"><img src="img/flags/pt.png"> Português</a></li>
                            </ul>
                        </div>
                    </div>
                </div><!-- /.modal-content -->
            </div><!-- /.modal-dialog -->
        </div><!-- /.modal -->

        <div class="modal fade" id="canadaModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title" id="myModalLabel">Choose a Canadian Edition</h4>
                    </div>
                    <div class="modal-body">
                        <p style="text-align:center">
                            <a class="btn btn-primary btn-lg"  role="button"  data-dismiss="modal" onclick="switchRelease('en-Canadian Edition 20150526', 'en-ca-edition', 'v20150526', '19491000087109', 'https://browser-aws-1.ihtsdotools.org/api/snomed');
                        switchLanguage('en_US', 'img/flags/ca.png', true);
                        switchToFullHeight(404684003, 138875005);"><img src="img/flags/ca.png">&nbsp;&nbsp;&nbsp;Go browsing...</span><br><span class="small">Canadian edition (English)</span></a>
                        </p>
                        <p style="text-align:center">
                            <a class="btn btn-primary btn-lg" role="button"  data-dismiss="modal" onclick="switchRelease('fr-Canadian Edition 20150526', 'fr-ca-edition', 'v20150526', '20581000087109,900000000000509007', 'https://browser-aws-1.ihtsdotools.org/api/snomed');
                        switchLanguage('en_US', 'img/flags/ca.png', true);
                        switchToFullHeight(404684003, 138875005);"><img src="img/flags/ca.png">&nbsp;&nbsp;&nbsp;Go browsing...</span><br><span class="small">Canadian edition (Français)</span></a>
                        </p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- JIRA feedback script
                <script type="text/javascript" src="https://jira.ihtsdotools.org/s/d41d8cd98f00b204e9800998ecf8427e/en_US-dgb2l9-1988229788/6256/5/1.4.7/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?collectorId=9215d950"></script>
                -->

        <!-- Using Freshdesk Widget for feedback -->
        <!--<script type="text/javascript" src="http://assets.freshdesk.com/widget/freshwidget.js"></script>-->
        <!--<script type="text/javascript">-->
                    <!--FreshWidget.init("", {"queryString": "&widgetType=popup&formTitle=IHTSDO+Browser+Application+Feedback%2FIssue+Reporting&searchArea=no", "backgroundImage": "http://assets.freshdesk.com/widget/help-button.png", "widgetType": "popup", "buttonType": "image", "buttonText": "Support", "buttonColor": "white", "buttonBg": "#00AADD", "alignment": "1", "offset": "-1500px", "formHeight": "500px", "url": "https://ihtsdo.freshdesk.com"});-->
        <!--</script>-->

        <!--<script type="text/javascript">-->
            <!--var $buoop = {};-->
            <!--$buoop.ol = window.onload;-->
            <!--window.onload = function () {-->
                <!--try {-->
                    <!--if ($buoop.ol)-->
                        <!--$buoop.ol();-->
                <!--} catch (e) {-->
                <!--}-->
                <!--var e = document.createElement("script");-->
                <!--e.setAttribute("type", "text/javascript");-->
                <!--e.setAttribute("src", "//browser-update.org/update.js");-->
                <!--document.body.appendChild(e);-->
            <!--}-->
        <!--</script>-->
        <!--Start Cookie Script-->
        <script type="text/javascript" charset="UTF-8" src="http://chs02.cookie-script.com/s/b80c8456dc1c3b2bd6652feea1124eb1.js"></script>
        <!--End Cookie Script-->


        <!-- Google Analytics script -->
        <!--<script>-->
            <!--(function (i, s, o, g, r, a, m) {-->
                <!--i['GoogleAnalyticsObject'] = r;-->
                <!--i[r] = i[r] || function () {-->
                    <!--(i[r].q = i[r].q || []).push(arguments)-->
                <!--}, i[r].l = 1 * new Date();-->
                <!--a = s.createElement(o),-->
                        <!--m = s.getElementsByTagName(o)[0];-->
                <!--a.async = 1;-->
                <!--a.src = g;-->
                <!--m.parentNode.insertBefore(a, m)-->
            <!--})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');-->

            <!--ga('create', 'UA-41892858-7', 'ihtsdotools.org');-->
            <!--ga('send', 'pageview');-->

        <!--</script>-->

        <script>
            // History capture of the manual back and forward buttons
            manualStateChange = true;
            History.Adapter.bind(window,'statechange',function(){ // Note: We are using statechange instead of popstate
                if(manualStateChange == true){
                    // BACK BUTTON WAS PRESSED
                    var State = History.getState(); // Note: We are using History.getState() instead of event.state
                    if (State.data && State.data.url) {
                        //console.log("Back button! ", State.data.name);
                        if (State.data.url.indexOf("acceptLicense") == -1) {
                            State.data.url = State.data.url + "&acceptLicense=true";
                        }
                        window.location.href = State.data.url;
                    }
                }
                manualStateChange = true;
            });
        </script>
    </body>
</html>